(function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],d=0,u=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);p&&p(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],i=!0,a=1;a<o.length;a++){var c=o[a];0!==r[c]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=o[0]))}return e}var i={},a={app:0},r={app:0},n=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2ccfad1e":"414e0201","chunk-365d1223":"be68ab4e","chunk-e586cdfa":"65050c3c"}[e]+".js"}function s(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o={"chunk-2ccfad1e":1,"chunk-365d1223":1,"chunk-e586cdfa":1};a[e]?t.push(a[e]):0!==a[e]&&o[e]&&t.push(a[e]=new Promise((function(t,o){for(var i="css/"+({}[e]||e)+"."+{"chunk-2ccfad1e":"0355f360","chunk-365d1223":"e383f932","chunk-e586cdfa":"177b1b91"}[e]+".css",r=s.p+i,n=document.getElementsByTagName("link"),c=0;c<n.length;c++){var l=n[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===i||d===r))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){l=u[c],d=l.getAttribute("data-href");if(d===i||d===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||r,n=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=i,delete a[e],p.parentNode.removeChild(p),o(n)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[e]=0})));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,o){i=r[e]=[t,o]}));t.push(i[2]=n);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(p);var o=r[e];if(0!==o){if(o){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,o[1](u)}r[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(o,i,function(t){return e[t]}.bind(null,i));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=d;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"049c":function(e,t,o){"use strict";var i=o("8694"),a=o.n(i);a.a},"0530":function(e,t,o){"use strict";var i=o("b8ac"),a=o.n(i);a.a},2096:function(e,t,o){},"24f8":function(e,t,o){},"29c1":function(e,t,o){},"34fc":function(e,t,o){"use strict";var i=o("e3ce"),a=o.n(i);a.a},"42e2":function(e,t,o){"use strict";var i=o("ef11"),a=o.n(i);a.a},4360:function(e,t,o){"use strict";var i=o("2b0e"),a=o("2f62");i["default"].use(a["a"]),t["a"]=new a["a"].Store({state:{cliente:[],clienteFueGuardado:!1,clienteTipo:0,clienteFiscal:[],proyecto:[],empresa:[],msalConfig:{auth:{clientId:"7b0d46d9-02c2-4779-a650-da0300bd5038",authority:"https://login.microsoftonline.com/common/"},cache:{cacheLocation:"localStorage"}},accessToken:""},mutations:{setAccessToken:function(e,t){e.accessToken=t}},actions:{},modules:{}})},4438:function(e,t,o){"use strict";var i=o("e518"),a=o.n(i);a.a},4678:function(e,t,o){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return o(t)}function r(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="4678"},"46bd":function(e,t){var o="https://backtr4.azurewebsites.net";e.exports=o},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"entireApp"}},[o("notifications",{attrs:{id:"notifications",position:"center middle"}}),o("v-container",{staticClass:"p-2"},[o("Nav",{staticClass:"p-0"})],1),o("v-main",[o("v-container",{staticClass:"contenedorPrinc",attrs:{"ma-0":"","pa-0":"","fill-height":"",fluid:""}},[o("router-view")],1)],1),o("v-footer",{attrs:{app:""}})],1)},r=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",{staticClass:"p-0"},[e.checkNavBar()?o("v-navigation-drawer",{attrs:{bottom:"",temporary:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",{attrs:{dense:"",nav:""}},[e.menuHamburguesaShow()?o("v-list-item-group",{model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[o("v-list-item",{attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-calendar-multiple")])],1),o("v-list-item-content",[o("v-list-item-title",[o("router-link",{attrs:{to:"/Grid"}},[e._v("Cargar Horas")])],1)],1)],1),o("v-list-group",{directives:[{name:"show",rawName:"v-show",value:e.accesoPanelAdministracion(),expression:"accesoPanelAdministracion()"}],attrs:{value:!0,"prepend-icon":"mdi-account-circle"},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",[e._v("Administración")])],1)]},proxy:!0}],null,!1,878162125)},[o("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.SeguridadAdministracionCliente(),expression:"SeguridadAdministracionCliente()"}],attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-account-group")])],1),o("v-list-item-content",[o("v-list-item-title",[o("router-link",{attrs:{to:"/clientesTable"}},[e._v("Clientes")])],1)],1)],1),o("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.SeguridadAdministracionTareas(),expression:"SeguridadAdministracionTareas()"}],attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-note-multiple")])],1),o("v-list-item-content",[o("v-list-item-title",[o("router-link",{attrs:{to:"/Tareas"}},[e._v("Tareas")])],1)],1)],1),o("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.SeguridadAdministracionEmpresas(),expression:"SeguridadAdministracionEmpresas()"}],attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-home-modern")])],1),o("v-list-item-content",[o("v-list-item-title",[o("router-link",{attrs:{to:"/empresasTable"}},[e._v("Empresas")])],1)],1)],1),o("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.SeguridadAdministracionTiempos(),expression:"SeguridadAdministracionTiempos()"}],attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-calendar")])],1),o("v-list-item-content",[o("v-list-item-title",[o("router-link",{attrs:{to:"/tiemposCalendar"}},[e._v("Tiempos")])],1)],1)],1)],1)],1):e._e()],1)],1):e._e(),o("v-app-bar",{attrs:{dark:"",color:"#1A5E86",app:""}},["/login"!=this.$route.path?o("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e(),o("v-avatar",{attrs:{size:"42",tile:""}},[o("img",{attrs:{src:"https://res.cloudinary.com/dpe3qq10k/image/upload/v1600779562/IconoBlanco_m2yto9.png",alt:"Logo Blanco"}})]),o("v-toolbar-title",{staticStyle:{"margin-left":"0.5rem"},attrs:{color:"white"}},[e._v("SEIDOR Analytics")]),"/login"!=this.$route.path?o("v-layout",{attrs:{"justify-end":""}},[o("v-card",{staticStyle:{background:"white"},on:{click:e.userPage}},[o("v-title",{staticStyle:{"padding-right":"1rem","padding-left":"1.2rem",color:"black"}},[e._v(e._s(e.colaboradorLogged))]),o("v-avatar",{staticStyle:{"border-radius":"100%",background:"#1A5E86",margin:"0.1rem","margin-right":"0.5rem"},attrs:{size:"40"}},[o("img",{attrs:{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",alt:"Imagen Usuario"}})])],1),o("v-btn",{staticStyle:{position:"relative",top:"6px",left:"10px"},attrs:{light:"",fab:"","x-small":""}},[o("v-icon",{staticStyle:{color:"red"},on:{click:e.logout}},[e._v("mdi-power")])],1)],1):e._e()],1)],1)},c=[],s=(o("caad"),o("2532"),o("96cf"),o("1da1")),l={data:function(){return{drawer:!1,group:null,colaborador:{Colaborador_Descripcion:"Ingrese Usuario"},login:!1}},methods:{logout:function(){localStorage.clear(),this.$router.push("/login")},userPage:function(){this.$router.push("/Usuario")},menuHamburguesaShow:function(){return localStorage.Permisos.includes("P1")},accesoPanelAdministracion:function(){return localStorage.Permisos.includes("P5")||localStorage.Permisos.includes("P6")||localStorage.Permisos.includes("P7")||localStorage.Permisos.includes("P8")||localStorage.Permisos.includes("P9")||localStorage.Permisos.includes("P10")||localStorage.Permisos.includes("P11")||localStorage.Permisos.includes("P12")||localStorage.Permisos.includes("P13")||localStorage.Permisos.includes("P14")||localStorage.Permisos.includes("P15")||localStorage.Permisos.includes("P16")||localStorage.Permisos.includes("P17")||localStorage.Permisos.includes("P18")||localStorage.Permisos.includes("P19")||localStorage.Permisos.includes("P20")||localStorage.Permisos.includes("P21")||localStorage.Permisos.includes("P22")||localStorage.Permisos.includes("P23")||localStorage.Permisos.includes("P24")||localStorage.Permisos.includes("P25")||localStorage.Permisos.includes("P26")||localStorage.Permisos.includes("P27")||localStorage.Permisos.includes("P28")||localStorage.Permisos.includes("P29")||localStorage.Permisos.includes("P30")||localStorage.Permisos.includes("P31")||localStorage.Permisos.includes("P32")},SeguridadAdministracionCliente:function(){return localStorage.Permisos.includes("P5")||localStorage.Permisos.includes("P6")||localStorage.Permisos.includes("P7")||localStorage.Permisos.includes("P8")||localStorage.Permisos.includes("P9")||localStorage.Permisos.includes("P10")||localStorage.Permisos.includes("P11")||localStorage.Permisos.includes("P12")},SeguridadAdministracionEmpresas:function(){return localStorage.Permisos.includes("P13")||localStorage.Permisos.includes("P14")||localStorage.Permisos.includes("P15")||localStorage.Permisos.includes("P16")||localStorage.Permisos.includes("P17")},SeguridadAdministracionProyectos:function(){return localStorage.Permisos.includes("P18")||localStorage.Permisos.includes("P19")||localStorage.Permisos.includes("P20")||localStorage.Permisos.includes("P21")||localStorage.Permisos.includes("P22")||localStorage.Permisos.includes("P23")||localStorage.Permisos.includes("P24")},SeguridadAdministracionTareas:function(){return localStorage.Permisos.includes("PX")},SeguridadAdministracionTiempos:function(){return localStorage.Permisos.includes("P25")||localStorage.Permisos.includes("P26")||localStorage.Permisos.includes("P27")||localStorage.Permisos.includes("P28")||localStorage.Permisos.includes("P29")||localStorage.Permisos.includes("P30")||localStorage.Permisos.includes("P31")||localStorage.Permisos.includes("P32")},SeguridadAdministracionSuperUsuario:function(){return localStorage.Permisos.includes("P5")&&localStorage.Permisos.includes("P6")&&localStorage.Permisos.includes("P7")&&localStorage.Permisos.includes("P8")&&localStorage.Permisos.includes("P9")&&localStorage.Permisos.includes("P10")&&localStorage.Permisos.includes("P11")&&localStorage.Permisos.includes("P12")&&localStorage.Permisos.includes("P13")&&localStorage.Permisos.includes("P14")&&localStorage.Permisos.includes("P15")&&localStorage.Permisos.includes("P16")&&localStorage.Permisos.includes("P17")&&localStorage.Permisos.includes("P18")&&localStorage.Permisos.includes("P19")&&localStorage.Permisos.includes("P20")&&localStorage.Permisos.includes("P21")&&localStorage.Permisos.includes("P22")&&localStorage.Permisos.includes("P23")&&localStorage.Permisos.includes("P24")&&localStorage.Permisos.includes("P25")&&localStorage.Permisos.includes("P26")&&localStorage.Permisos.includes("P27")&&localStorage.Permisos.includes("P28")&&localStorage.Permisos.includes("P29")&&localStorage.Permisos.includes("P30")&&localStorage.Permisos.includes("P31")&&localStorage.Permisos.includes("P32")},loginTrue:function(){return localStorage.login},checkNavBar:function(){return localStorage.Permisos.includes("P1")},SignOut:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$msalInstance.logout({}).then((function(){e.logout()})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))()}},computed:{colaboradorLogged:function(){return this.colaborador=localStorage.colaborador,localStorage.nombre_colaborador}},beforeCreate:function(){this.accesoPanelAdministracion(),this.SeguridadAdministracionCliente(),this.SeguridadAdministracionEmpresas(),this.SeguridadAdministracionProyectos(),this.SeguridadAdministracionTiempos(),this.SeguridadAdministracionSuperUsuario(),this.$forceUpdate()},created:function(){this.login=localStorage.getItem("login"),this.$forceUpdate()},beforeMount:function(){this.$forceUpdate()},beforeUpdate:function(){this.$forceUpdate()}},d=l,u=(o("7e11"),o("2877")),p=o("6544"),m=o.n(p),f=o("40dc"),g=o("5bc1"),h=o("8212"),v=o("8336"),y=o("b0af"),b=o("a75b"),P=o("132d"),C=o("a722"),k=o("8860"),x=o("56b0"),S=o("da13"),F=o("1800"),w=o("5d23"),T=o("1baa"),D=o("f774"),E=o("2a7f"),V=Object(u["a"])(d,n,c,!1,null,"62659103",null),N=V.exports;m()(V,{VAppBar:f["a"],VAppBarNavIcon:g["a"],VAvatar:h["a"],VBtn:v["a"],VCard:y["a"],VContent:b["a"],VIcon:P["a"],VLayout:C["a"],VList:k["a"],VListGroup:x["a"],VListItem:S["a"],VListItemAction:F["a"],VListItemContent:w["a"],VListItemGroup:T["a"],VListItemTitle:w["b"],VNavigationDrawer:D["a"],VToolbarTitle:E["a"]});var R=o("6ca4");o("898b");var $={components:{Nav:N,login:R["default"]},props:{source:String,type:Object,default:function(){return{}}},data:function(){return{login:!1}},mounted:function(){this.$vuetify.theme.dark=!1,!localStorage.Permisos.length>0&&(localStorage.Permisos=[],localStorage.Permisos=["P1"]),localStorage.login=!1},methods:{}},j=$,I=(o("42e2"),o("7496")),A=o("a523"),M=o("553a"),O=Object(u["a"])(j,a,r,!1,null,"27fae452",null),U=O.exports;m()(O,{VApp:I["a"],VContainer:A["a"],VFooter:M["a"]});o("d3b7");var z=o("8c4f"),L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",[o("v-data-table",{attrs:{headers:e.headers,items:e.desserts,search:e.search,"items-per-page":7,"footer-props":e.footerProps,pageText:"{0}-{1} de {2}"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{dense:"",flat:"",color:"white"}},[o("v-toolbar-title",[e._v("Clientes")]),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-text-field",{staticClass:"shrink",staticStyle:{"margin-right":"20rem"},attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"",dense:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("router-link",{attrs:{to:"/createCliente"}},[e.permisoCrearCliente()?o("v-btn",{attrs:{dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendClienteVacio}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):e._e()],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"editCliente/"}},["X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Ver más",small:"",color:"#2991c6"},on:{click:function(t){return e.sendCliente(i)}}},[e._v(" mdi-sunglasses ")]):e._e()],1),e.permisoDesactivar()?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarElementoDialog(i)}}},[e._v(" mdi-eye-off ")]):e._e(),""==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarCliente(i)}}},[e._v(" mdi-eye ")]):e._e()]}}],null,!0)}),o("v-dialog",{attrs:{width:"520px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[o("v-card",[o("v-card-title",[e._v("Este elemento se desactivará. ¿Deseas continuar?")]),o("v-card-actions",[o("v-btn",{staticStyle:{"margin-left":"18rem"},attrs:{color:"#32b4dd",dark:""},on:{click:e.desactivarCliente}},[e._v("OK")]),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.closeDelete}},[e._v("Cancelar")])],1)],1)],1)],1)],1)},K=[],G=(o("c975"),o("a434"),o("ade3")),B=o("bc3a"),X=o.n(B),H=o("46bd"),q={data:function(){var e;return e={search:"",dialogDelete:!1,indice:0,elementoEditado:{},headers:[{text:"Código",align:"start",sortable:!0,value:"Cliente_Codigo"},{text:"Descripción",value:"Cliente_Descripcion"},{text:"Región",value:"Region.Region_Descripcion"},{text:"Industria",value:"Industria.Industria_Descripcion"},{text:"Cant. Proyectos",value:"Proyectos.length",align:"center"},{text:"Acciones",value:"actions",sortable:!1,align:"end"}],desserts:[],entries:[],isLoading:!1,model:null},Object(G["a"])(e,"search",null),Object(G["a"])(e,"visible",{Visible:""}),Object(G["a"])(e,"footerProps",{"items-per-page-options":[7,20,40,60,100,200],itemsPerPageText:"Clientes por página:"}),e},watch:{dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize(),this.cleanStore(),this.$forceUpdate()},methods:{initialize:function(){var e=this;X.a.get(H+"/clientes").then((function(t){e.desserts=t.data}))},permisoDesactivar:function(){if(localStorage.Permisos.includes("P6"))return!0},permisoCrearCliente:function(){return localStorage.Permisos.includes("P5")},cleanStore:function(){this.$store.replaceState({cliente:[],clienteTipo:0,proyecto:[],clienteFiscal:[],empresa:[]})},sendClienteVacio:function(){this.$store.state.cliente[0]={Cliente_Codigo:"",Cliente_Descripcion:"",Cliente_Region:"",Cliente_Industria:"",Cliente_Empresa:"",Cliente_Moneda_Principal:"",Cliente_Observacion:"",Cliente_Logo:"",Proyectos:[],ClientesFiscales:[],Usuario_Creacion:null,Usuario_Modificacion:null}},sendCliente:function(e){this.$store.state.cliente[0]=e},desactivarCliente:function(){var e=this.indice,t=this.elementoEditado,o={Visible:""};t.Visible="",this.desserts.splice(e,1,t),X.a.patch(H+"/Clientes/"+t.Cliente_Codigo,o).then((function(e){console.log(e)})),this.closeDelete()},activarCliente:function(e){var t=this.desserts.indexOf(e),o={Visible:"X"};e.Visible="X",this.desserts.splice(t,1,e),X.a.patch(H+"/Clientes/"+e.Cliente_Codigo,o).then((function(e){console.log(e)}))},desactivarElementoDialog:function(e){this.indice=this.desserts.indexOf(e),this.elementoEditado=Object.assign({},e),this.dialogDelete=!0},closeDelete:function(){this.dialogDelete=!1,this.elementoEditado={},this.indice=0},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Y=q,J=(o("5f4b"),o("99d9")),Z=o("8fea"),Q=o("169a"),W=o("ce7e"),ee=o("2fa4"),te=o("8654"),oe=o("71d9"),ie=Object(u["a"])(Y,L,K,!1,null,"135e67e6",null),ae=ie.exports;m()(ie,{VBtn:v["a"],VCard:y["a"],VCardActions:J["a"],VCardTitle:J["c"],VContainer:A["a"],VContent:b["a"],VDataTable:Z["a"],VDialog:Q["a"],VDivider:W["a"],VIcon:P["a"],VSpacer:ee["a"],VTextField:te["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-header",{staticStyle:{"font-size":"1.5rem","margin-left":"3rem","margin-top":"2rem",width:"36rem"}},[e._v(e._s(e.proyecto.Proyecto_Descripcion))]),o("v-checkbox",{staticStyle:{display:"inline-block","margin-top":"2rem"},attrs:{disabled:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio,label:"Facturable"},model:{value:e.proyecto.Proyecto_Facturable,callback:function(t){e.$set(e.proyecto,"Proyecto_Facturable",t)},expression:"proyecto.Proyecto_Facturable"}}),o("v-checkbox",{staticStyle:{display:"inline-block","margin-top":"2rem","margin-left":"2rem"},attrs:{color:e.proyecto.Proyecto_Newsletter?"yellow":"black",label:"Newsletter"},model:{value:e.proyecto.Proyecto_Newsletter,callback:function(t){e.$set(e.proyecto,"Proyecto_Newsletter",t)},expression:"proyecto.Proyecto_Newsletter"}}),o("v-btn",{staticStyle:{"margin-left":"11rem","margin-top":"2rem"},attrs:{color:"#32b4dd",dark:""},on:{click:e.evaluarGuardado}},[e._v("Guardar")]),o("v-btn",{staticStyle:{"margin-left":"1rem","margin-top":"2rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.rollback}},[e._v("Cancelar")]),o("v-col",{staticStyle:{"max-width":"56rem","margin-left":"1rem","margin-top":"-1rem"},attrs:{cols:"12"}},[o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"8rem"},attrs:{outlined:"",dense:"",label:"Código",rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Codigo,callback:function(t){e.$set(e.proyecto,"Proyecto_Codigo",t)},expression:"proyecto.Proyecto_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","margin-left":"1rem","max-width":"8rem"},attrs:{outlined:"",dense:"",label:"Código Externo",rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Codigo_Externo,callback:function(t){e.$set(e.proyecto,"Proyecto_Codigo_Externo",t)},expression:"proyecto.Proyecto_Codigo_Externo"}}),o("v-text-field",{staticStyle:{display:"inline-block","margin-left":"1rem","min-width":"24rem"},attrs:{outlined:"",dense:"",rules:[e.rules.counterDescripcion,e.rules.checkCode],label:"Descripción",placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Descripcion,callback:function(t){e.$set(e.proyecto,"Proyecto_Descripcion",t)},expression:"proyecto.Proyecto_Descripcion"}}),o("v-select",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{variant:"light"},expression:"{variant: 'light'}",modifiers:{hover:!0}}],staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",items:e.proyectos_tipos_descripciones,title:e.evalTooltipTiposProyectos,label:"Tipo",placeholder:"Selecciona..."},on:{input:e.asignarSegunTipo},model:{value:e.proyecto.Proyecto_Tipo,callback:function(t){e.$set(e.proyecto,"Proyecto_Tipo",t)},expression:"proyecto.Proyecto_Tipo"}}),o("v-select",{staticStyle:{"max-width":"11.5rem",display:"inline-block","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",items:e.alcances_descripciones,label:"Alcance",readonly:"No Aplica"==e.proyecto.Proyecto_Alcance,disabled:"No Aplica"==e.proyecto.Proyecto_Alcance,placeholder:"Selecciona..."},model:{value:e.proyecto.Proyecto_Alcance,callback:function(t){e.$set(e.proyecto,"Proyecto_Alcance",t)},expression:"proyecto.Proyecto_Alcance"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{label:"U. Negocio",readonly:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio,disabled:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio,items:e.unidades_NegocioDescripciones,loading:e.isLoading,"search-input":e.searchUnidadesNegocio,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchUnidadesNegocio=t},"update:search-input":function(t){e.searchUnidadesNegocio=t}},model:{value:e.proyecto.Proyecto_Unidad_Negocio,callback:function(t){e.$set(e.proyecto,"Proyecto_Unidad_Negocio",t)},expression:"proyecto.Proyecto_Unidad_Negocio"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{label:"Responsable",readonly:"Sin Asignar"==e.proyecto.Proyecto_Responsable,disabled:"Sin Asignar"==e.proyecto.Proyecto_Responsable,items:e.responsablesDescripciones,loading:e.isLoading,"search-input":e.searchResponsables,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchResponsables=t},"update:search-input":function(t){e.searchResponsables=t}},model:{value:e.proyecto.Proyecto_Responsable,callback:function(t){e.$set(e.proyecto,"Proyecto_Responsable",t)},expression:"proyecto.Proyecto_Responsable"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{label:"Vendedor",readonly:"Sin Asignar"==e.proyecto.Proyecto_Vendedor,disabled:"Sin Asignar"==e.proyecto.Proyecto_Vendedor,items:e.vendedoresDescripciones,loading:e.isLoading,"search-input":e.searchVendedores,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchVendedores=t},"update:search-input":function(t){e.searchVendedores=t}},model:{value:e.proyecto.Proyecto_Vendedor,callback:function(t){e.$set(e.proyecto,"Proyecto_Vendedor",t)},expression:"proyecto.Proyecto_Vendedor"}}),o("v-select",{staticStyle:{"max-width":"8rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",items:e.monedasCodigos,label:"Moneda",readonly:"N/A"==e.proyecto.Proyecto_Moneda,disabled:"N/A"==e.proyecto.Proyecto_Moneda,placeholder:"Selecciona..."},model:{value:e.proyecto.Proyecto_Moneda,callback:function(t){e.$set(e.proyecto,"Proyecto_Moneda",t)},expression:"proyecto.Proyecto_Moneda"}})],1)],1),o("v-col",{attrs:{cols:"3"}},[o("v-textarea",{staticStyle:{"min-width":"24rem","margin-top":"-1rem"},attrs:{"auto-grow":"","background-color":"white",filled:"",color:"black",label:"Descripcion detallada",counter:1e3,placeholder:"Escribe..",rows:"4"},model:{value:e.proyecto.Proyecto_Observacion,callback:function(t){e.$set(e.proyecto,"Proyecto_Observacion",t)},expression:"proyecto.Proyecto_Observacion"}})],1),o("v-col",{staticStyle:{"margin-left":"1rem","max-width":"56rem","margin-top":"-1rem"},attrs:{cols:"12"}},[o("v-text",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Referentes")]),o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","min-width":"18rem"},attrs:{outlined:"",dense:"",label:"Referente Comercial",rules:[e.rules.counterReferentes],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Comercial,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Comercial",t)},expression:"proyecto.Proyecto_Referente_Comercial"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"34rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Mail Comercial",rules:[e.rules.counterReferentes,e.rules.checkEmail],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Comercial_Mail,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Comercial_Mail",t)},expression:"proyecto.Proyecto_Referente_Comercial_Mail"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"18rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Referente Técnico",rules:[e.rules.counterReferentes],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Tecnico,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Tecnico",t)},expression:"proyecto.Proyecto_Referente_Tecnico"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"34rem","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Mail Técnico",rules:[e.rules.counterReferentes,e.rules.checkEmail],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Tecnico_Mail,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Tecnico_Mail",t)},expression:"proyecto.Proyecto_Referente_Tecnico_Mail"}})],1)],1),o("v-col",{staticStyle:{"margin-top":"-1rem","min-width":"26rem"},attrs:{cols:"3"}},[o("proyectosTecnologias",{attrs:{proyectoFueGuardado:e.proyectoFueGuardado}})],1)],1)],1)],1)],1)},ne=[],ce=(o("4de4"),o("d81d"),o("45fc"),o("25f0"),o("b85c")),se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticStyle:{width:"26rem","margin-left":"-1rem"}},[o("v-text",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Tecnologías")]),o("v-data-table",{staticClass:"elevation-1",staticStyle:{"min-width":"10rem"},attrs:{headers:e.headersProyectosTecnologias,items:this.$store.state.proyecto[0].Tecnologias,"sort-by":"Proyecto_Tecnologia_Tecnologia","items-per-page":4,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.permisoEscrituraProyectoTecnologia(),expression:"permisoEscrituraProyectoTecnologia()"}],staticStyle:{"margin-left":"10rem","margin-top":"-4rem"},attrs:{loading:!e.$attrs.proyectoFueGuardado,dark:"",fab:"","x-small":"",color:"#2991c6"}},"v-btn",a,!1),i),[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-autocomplete",{attrs:{label:"Tecnología",items:e.tecnologiasDescripciones,"search-input":e.searchTecnologias,dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchTecnologias=t},"update:search-input":function(t){e.searchTecnologias=t}},model:{value:e.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia,callback:function(t){e.$set(e.proyectoTecnologia,"Proyecto_Tecnologia_Tecnologia",t)},expression:"proyectoTecnologia.Proyecto_Tecnologia_Tecnologia"}})],1),o("v-row",[o("v-text-field",{staticStyle:{"max-width":"5rem"},attrs:{label:"Porcentaje"},model:{value:e.proyectoTecnologia.Proyecto_Tecnologia_Porcentaje,callback:function(t){e.$set(e.proyectoTecnologia,"Proyecto_Tecnologia_Porcentaje",e._n(t))},expression:"proyectoTecnologia.Proyecto_Tecnologia_Porcentaje"}}),o("v-icon",[e._v("%")]),o("v-card-actions",[o("v-btn",{staticStyle:{"margin-left":"10rem"},attrs:{color:"#2991c6",text:""},on:{click:e.close}},[e._v("Cancel")]),o("v-btn",{attrs:{color:"#2991c6",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"#2991c6"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),o("v-icon",{attrs:{small:"",color:"#2991c6"},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)],1)},le=[],de=o("46bd"),ue={data:function(){return{dialog:!1,headersProyectosTecnologias:[{text:"Tecnologia",align:"start",sortable:!1,value:"Tecnologia.Tecnologia_Descripcion"},{text:"Porcentaje %",value:"Proyecto_Tecnologia_Porcentaje",width:"40%",sortable:!1,align:"center"},{text:"Acciones",value:"actions",sortable:!1,align:"end"}],searchTecnologias:"",tecnologias:[],tecnologiasDescripciones:[],editedIndex:-1,proyectoTecnologia:{Proyecto_Tecnologia_Proyecto:"",Proyecto_Tecnologia_Tecnologia:"",Proyecto_Tecnologia_Porcentaje:0,Usuario_Creacion:2,Usuario_Modificacion:2,Tecnologia:{}},defaultItem:{Proyecto_Tecnologia_Proyecto:"",Proyecto_Tecnologia_Tecnologia:"",Proyecto_Tecnologia_Porcentaje:0,Usuario_Creacion:2,Usuario_Modificacion:2,Tecnologia:{}},model:null,search:null}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva":"Editar"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.loadTecnologias()},editItem:function(e){this.editedIndex=this.$store.state.proyecto[0].Tecnologias.indexOf(e),this.proyectoTecnologia=Object.assign({},e),this.dialog=!0,this.asignarDescripcion()},deleteItem:function(e){var t=this.$store.state.proyecto[0].Tecnologias.indexOf(e);confirm("Está seguro que desea eliminar esta tecnologia?")&&this.$store.state.proyecto[0].Tecnologias.splice(t,1)&&X.a.delete(de+"/proyectos_tecnologias/"+e.Proyecto_Tecnologia_Key).then((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.proyectoTecnologia=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?(this.proyectoTecnologia.Tecnologia={Tecnologia_Descripcion:this.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia},Object.assign(this.$store.state.proyecto[0].Tecnologias[this.editedIndex],this.proyectoTecnologia)):(this.proyectoTecnologia.Tecnologia={Tecnologia_Descripcion:this.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia},this.proyectoTecnologia.Proyecto_Tecnologia_Proyecto=this.$store.state.proyecto[0].Proyecto_Key,this.$store.state.proyecto[0].Tecnologias.push(this.proyectoTecnologia)),this.close()},loadProyecto:function(){this.proyecto=this.$store.state.proyecto[0],this.proyectoTecnologia.Proyecto_Tecnologia_Proyecto=this.proyecto.Proyecto_Key,this.defaultItem.Proyecto_Tecnologia_Proyecto=this.proyecto.Proyecto_Key},loadTecnologias:function(){var e=this;X.a.get(de+"/tecnologias/descripciones").then((function(t){e.tecnologias=t.data,e.tecnologiasDescripciones=t.data.map((function(e){return e.Tecnologia_Descripcion}))}))},asignarDescripcion:function(){var e=this,t=this.tecnologias.filter((function(t){return t.Tecnologia_Key==e.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia}))[0].Tecnologia_Descripcion;this.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia=t},asignarKey:function(){var e=this,t=this.tecnologias.filter((function(t){return t.Tecnologia_Descripcion==e.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia}))[0].Tecnologia_Key;this.proyectoTecnologia.Proyecto_Tecnologia_Tecnologia=t},permisoLecturaProyectoTecnologia:function(){return localStorage.Permisos.includes("P21")},permisoEscrituraProyectoTecnologia:function(){return localStorage.Permisos.includes("P22")},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},pe=ue,me=(o("b60d"),o("c6a6")),fe=o("0fd9"),_e=Object(u["a"])(pe,se,le,!1,null,"11c7ad61",null),ge=_e.exports;function he(e){e.length>0&&e.length}function ve(e){e.length>0&&e.length}function ye(e){e.length>0&&e.length}function be(e){e.length>0&&e.length}function Pe(e){e.length>0&&e.length}function Ce(e){e.length>0&&e.length}function ke(e){e.length>0&&e.length}function xe(e){e.length>0&&e.length}function Se(e){e.length>0&&e.length}function Fe(e){e.length>0&&e.length}function we(e){var t=/^$|^([A-Za-z0-9-. ])*$/;return!!e&&t.test(e)||"Solo se permiten números, letras y -"}function Te(e){var t=/^[0-9-]*$/;return!!e&&t.test(e)||"Solo se permiten números y -"}function De(e){var t=/^([0-9() /,.;-])*$/;return!!e&&t.test(e)||"Caracter ingresado no permitido"}function Ee(e){var t=/^[A-Za-z-0-9 ]*$/;return!!e&&t.test(e)||"Sólo se permiten letras, números y -"}function Ve(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!!e&&t.test(e)||"E-mail Invalido"}m()(_e,{VAutocomplete:me["a"],VBtn:v["a"],VCard:y["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:J["c"],VContainer:A["a"],VContent:b["a"],VDataTable:Z["a"],VDialog:Q["a"],VIcon:P["a"],VRow:fe["a"],VTextField:te["a"]});var Ne=o("46bd"),Re={components:{proyectosTecnologias:ge},data:function(){return{proyectoFueGuardado:!1,rules:{checkCode:we,counterCodigo:he,counterDescripcion:ve,counterReferentes:ye,checkEmail:Ve},newsletter:"",searchUnidadesNegocio:"",searchResponsables:"",searchVendedores:"",proyecto:{},defaultCode:"",responsables:[],vendedores:[],unidades_Negocio:[],alcances:[],proyectos_tipos:[],monedas:[],tecnologias:[],responsablesDescripciones:[],vendedoresDescripciones:[],alcances_descripciones:[],proyectos_tipos_descripciones:[],monedasCodigos:[],unidades_NegocioDescripciones:[],isLoading:!1,model:null,search:null,visible:{Visible:""}}},computed:{},watch:{},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadProyecto(),e.loadUnidades_Negocios(),e.loadProyectosAlcances(),e.loadProyectosTipos(),e.loadMonedas(),e.loadVendedores(),e.loadResponsables(),e.loadTecnologias(),t.next=10,e.wait(1e3);case 10:e.proyectoFueGuardado&&e.asignarDescripciones();case 11:case"end":return t.stop()}}),t)})))()},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},loadProyecto:function(){this.proyecto=_.cloneDeep(this.$store.state.proyecto[0]),this.proyecto.Proyecto_Cliente=this.$store.state.cliente[0].Cliente_Key,this.proyecto.Proyecto_Facturable=this.evalFacturable(),this.proyecto.Proyecto_Newsletter=this.evalNewsletter()},evalNewsletter:function(){return"Si"==this.proyecto.Proyecto_Newsletter.toString()},evalFacturable:function(){return 1==this.proyecto.Proyecto_Facturable},evaluarGuardado:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.proyectoFueGuardado){t.next=4;break}e.validarPorcentaje()&&(e.guardarTecnologias(),e.proyecto.Alcance={Tipo_Proyecto_Descripcion:e.proyecto.Proyecto_Alcance},e.proyecto.Responsable={Colaborador_Descripcion:e.proyecto.Proyecto_Responsable},e.proyecto.Visible="X",e.$store.state.cliente[0].Proyectos.push(e.proyecto),e.rollback()),t.next=8;break;case 4:if(!e.$refs.form.validate()){t.next=8;break}return t.next=7,e.guardarProyecto();case 7:e.asignarDescripciones();case 8:case"end":return t.stop()}}),t)})))()},guardarProyecto:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.proyecto.Proyecto_Codigo,i=e.proyecto.Proyecto_Descripcion,!e.$store.state.cliente[0].Proyectos.some((function(e){return e.Proyecto_Codigo==o||e.Proyecto_Descripcion==i}))){t.next=7;break}throw alert("El proyecto ya existe para el cliente seleccionado"),new Error("Proyecto existe");case 7:return e.assignKeys(),t.next=10,X.a.post(Ne+"/proyectos",e.proyecto).then((function(t){console.log(e.proyecto)}));case 10:return t.next=12,X.a.get(Ne+"/proyectos/"+o).then((function(t){e.proyecto.Proyecto_Key=t.data.Proyecto_Key}));case 12:e.$store.state.proyecto[0]=e.proyecto,e.proyectoFueGuardado=!0;case 14:case"end":return t.stop()}}),t)})))()},guardarTecnologias:function(){var e=this,t=this.$store.state.proyecto[0].Tecnologias,o=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];if("Directo"==o.Proyecto_Tipo_Beneficio){var i,a=Object(ce["a"])(t);try{for(a.s();!(i=a.n()).done;){var r=i.value;this.asignarKey(r),X.a.post(Ne+"/Proyectos_Tecnologias",r).then((function(e){console.log(e)}))}}catch(n){a.e(n)}finally{a.f()}}},validarPorcentaje:function(){var e=this,t=this.$store.state.proyecto[0].Tecnologias,o=0,i=!1,a=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];if("Directo"!=a.Proyecto_Tipo_Beneficio)return!0;var r,n=Object(ce["a"])(t);try{for(n.s();!(r=n.n()).done;){var c=r.value;o+=c.Proyecto_Tecnologia_Porcentaje}}catch(s){n.e(s)}finally{n.f()}return o>100?(alert("El porcentaje de tecnologías supera el 100%"),i):!(o<100)||(alert("El porcentaje de tecnologías no llega al 100%"),i)},rollback:function(){this.$store.state.proyecto[0]={},0==this.$store.state.clienteTipo?this.$router.push({path:"/createCliente"}):this.$router.push({path:"/editCliente"})},loadMonedas:function(){var e=this;X.a.get(Ne+"/monedas").then((function(t){e.monedas=t.data,e.monedasCodigos=t.data.map((function(e){return e.Moneda_Codigo}))}))},loadProyectosAlcances:function(){var e=this;X.a.get(Ne+"/proyectos_alcances/descripciones").then((function(t){e.alcances=t.data,e.alcances_descripciones=t.data.map((function(e){return e.Proyecto_Alcance_Descripcion}))}))},loadProyectosTipos:function(){var e=this;X.a.get(Ne+"/proyectos_tipos/descripciones").then((function(t){e.proyectos_tipos=t.data,e.proyectos_tipos_descripciones=t.data.map((function(e){return e.Proyecto_Tipo_Descripcion}))}))},loadUnidades_Negocios:function(){var e=this;X.a.get(Ne+"/unidades_negocios/descripciones").then((function(t){e.unidades_Negocio=t.data,e.unidades_NegocioDescripciones=t.data.map((function(e){return e.Unidad_Negocio_Descripcion}))}))},loadTecnologias:function(){var e=this;X.a.get(Ne+"/tecnologias/descripciones").then((function(t){e.tecnologias=t.data}))},loadResponsables:function(){var e=this;X.a.get(Ne+"/colaboradores/descripciones").then((function(t){e.responsables=t.data.filter((function(e){return 2===e.Funcion.Colaborador_Funcion_Funcion_Key})),e.responsablesDescripciones=e.responsables.map((function(e){return e.Usuario.Usuario_Nombre_Completo})).sort()}))},loadVendedores:function(){var e=this;X.a.get(Ne+"/colaboradores/descripciones").then((function(t){e.vendedores=t.data.filter((function(e){return 1===e.Funcion.Colaborador_Funcion_Funcion_Key})),e.vendedoresDescripciones=e.vendedores.map((function(e){return e.Usuario.Usuario_Nombre_Completo})).sort()}))},asignarDescripciones:function(){var e=this,t=this.unidades_Negocio.filter((function(t){return t.Unidad_Negocio_Key==e.proyecto.Proyecto_Unidad_Negocio}))[0].Unidad_Negocio_Descripcion,o=this.alcances.filter((function(t){return t.Proyecto_Alcance_Key==e.proyecto.Proyecto_Alcance}))[0].Proyecto_Alcance_Descripcion,i=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Key==e.proyecto.Proyecto_Tipo}))[0].Proyecto_Tipo_Descripcion,a=this.monedas.filter((function(t){return t.Moneda_Key==e.proyecto.Proyecto_Moneda}))[0].Moneda_Codigo,r=this.colaboradores.filter((function(t){return t.Colaborador_Usuario==e.proyecto.Proyecto_Responsable}))[0].Colaborador_Descripcion,n=this.colaboradores.filter((function(t){return t.Colaborador_Usuario==e.proyecto.Proyecto_Vendedor}))[0].Colaborador_Descripcion;this.proyecto.Proyecto_Newsletter=this.evalNewsletter(),this.proyecto.Proyecto_Facturable=this.evalFacturable(),this.proyecto.Proyecto_Unidad_Negocio=t,this.proyecto.Proyecto_Alcance=o,this.proyecto.Proyecto_Tipo=i,this.proyecto.Proyecto_Moneda=a,this.proyecto.Proyecto_Responsable=r,this.proyecto.Proyecto_Vendedor=n},asignarKey:function(e){var t=this.tecnologias.filter((function(t){return t.Tecnologia_Descripcion==e.Proyecto_Tecnologia_Tecnologia}))[0].Tecnologia_Key;e.Proyecto_Tecnologia_Tecnologia=t},assignKeys:function(){var e=this,t=this.unidades_Negocio.filter((function(t){return t.Unidad_Negocio_Descripcion==e.proyecto.Proyecto_Unidad_Negocio}))[0].Unidad_Negocio_Key,o=this.alcances.filter((function(t){return t.Proyecto_Alcance_Descripcion==e.proyecto.Proyecto_Alcance}))[0].Proyecto_Alcance_Key,i=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0].Proyecto_Tipo_Key,a=this.monedas.filter((function(t){return t.Moneda_Codigo==e.proyecto.Proyecto_Moneda}))[0].Moneda_Key,r=this.responsables.filter((function(t){return t.Usuario.Usuario_Nombre_Completo==e.proyecto.Proyecto_Responsable}))[0].Colaborador_Usuario,n=this.vendedores.filter((function(t){return t.Usuario.Usuario_Nombre_Completo==e.proyecto.Proyecto_Vendedor}))[0].Colaborador_Usuario;this.proyecto.Proyecto_Unidad_Negocio=t,this.proyecto.Proyecto_Facturable=this.asignarFacturable(),this.proyecto.Proyecto_Newsletter=this.asignarNewsletter(),this.proyecto.Proyecto_Alcance=o,this.proyecto.Proyecto_Tipo=i,this.proyecto.Proyecto_Moneda=a,this.proyecto.Proyecto_Responsable=r,this.proyecto.Proyecto_Vendedor=n},asignarFacturable:function(){return 1==this.proyecto.Proyecto_Facturable?1:2},asignarNewsletter:function(){return 1==this.proyecto.Proyecto_Newsletter?"Si":"No"},evalTooltipTiposProyectos:function(){var e=this,t=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];return void 0==t?"No se selecciono un Tipo":"Grupo: "+t.Proyecto_Tipo_Grupo+"\nBeneficio: "+t.Proyecto_Tipo_Beneficio},asignarSegunTipo:function(){var e=this,t=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];"Directo"!=t.Proyecto_Tipo_Beneficio?(this.proyecto.Proyecto_Alcance="No Aplica",this.proyecto.Proyecto_Unidad_Negocio="No Aplica",this.proyecto.Proyecto_Responsable="No Aplica",this.proyecto.Proyecto_Vendedor="No Aplica",this.proyecto.Proyecto_Moneda="N/A",this.proyecto.Proyecto_Facturable=!1):(this.proyecto.Proyecto_Alcance="",this.proyecto.Proyecto_Unidad_Negocio="",this.proyecto.Proyecto_Responsable="",this.proyecto.Proyecto_Vendedor="",this.proyecto.Proyecto_Moneda="",this.proyecto.Proyecto_Facturable=!1,this.proyecto.Proyecto_Newsletter=!1)},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},$e=Re,je=(o("b885"),o("ac7c")),Ie=o("62ad"),Ae=o("4bd4"),Me=o("b974"),Oe=o("a844"),Ue=Object(u["a"])($e,re,ne,!1,null,"164016c5",null),ze=Ue.exports;m()(Ue,{VAutocomplete:me["a"],VBtn:v["a"],VCard:y["a"],VCheckbox:je["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var Le=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-header",{staticStyle:{"font-size":"1.5rem","margin-left":"3rem","margin-top":"2rem",width:"36rem"}},[e._v(e._s(e.proyecto.Proyecto_Descripcion))]),o("v-checkbox",{staticStyle:{display:"inline-block","margin-top":"2rem"},attrs:{disabled:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio||e.permisoActualizarProyecto(),label:"Facturable"},model:{value:e.proyecto.Proyecto_Facturable,callback:function(t){e.$set(e.proyecto,"Proyecto_Facturable",t)},expression:"proyecto.Proyecto_Facturable"}}),o("v-checkbox",{staticStyle:{display:"inline-block","margin-top":"2rem","margin-left":"2rem"},attrs:{disabled:e.permisoActualizarProyecto(),color:e.proyecto.Proyecto_Newsletter?"yellow":"black",label:"Newsletter"},model:{value:e.proyecto.Proyecto_Newsletter,callback:function(t){e.$set(e.proyecto,"Proyecto_Newsletter",t)},expression:"proyecto.Proyecto_Newsletter"}}),o("v-btn",{staticStyle:{"margin-left":"11rem","margin-top":"2rem"},attrs:{disabled:e.permisoActualizarProyecto(),color:"#32b4dd",dark:""},on:{click:e.evaluarGuardado}},[e._v("Guardar")]),o("v-btn",{staticStyle:{"margin-left":"1rem","margin-top":"2rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.rollback}},[e._v("Cancelar")]),o("v-col",{staticStyle:{"max-width":"56rem","margin-left":"1rem","margin-top":"-1rem"},attrs:{cols:"12"}},[o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"8rem"},attrs:{outlined:"",dense:"",label:"Código",disabled:e.permisoActualizarProyecto(),rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Codigo,callback:function(t){e.$set(e.proyecto,"Proyecto_Codigo",t)},expression:"proyecto.Proyecto_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","margin-left":"1rem","max-width":"8rem"},attrs:{outlined:"",dense:"",label:"Código Externo",disabled:e.permisoActualizarProyecto(),rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Codigo_Externo,callback:function(t){e.$set(e.proyecto,"Proyecto_Codigo_Externo",t)},expression:"proyecto.Proyecto_Codigo_Externo"}}),o("v-text-field",{staticStyle:{display:"inline-block","margin-left":"1rem","min-width":"24rem"},attrs:{outlined:"",dense:"",rules:[e.rules.counterDescripcion,e.rules.checkCode],label:"Descripción",disabled:e.permisoActualizarProyecto(),placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Descripcion,callback:function(t){e.$set(e.proyecto,"Proyecto_Descripcion",t)},expression:"proyecto.Proyecto_Descripcion"}}),o("v-select",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{variant:"light"},expression:"{variant: 'light'}",modifiers:{hover:!0}}],staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",disabled:e.permisoActualizarProyecto(),items:e.proyectos_tipos_descripciones,title:e.evalTooltipTiposProyectos,label:"Tipo",placeholder:"Selecciona..."},on:{input:e.asignarSegunTipo},model:{value:e.proyecto.Proyecto_Tipo,callback:function(t){e.$set(e.proyecto,"Proyecto_Tipo",t)},expression:"proyecto.Proyecto_Tipo"}}),o("v-select",{staticStyle:{"max-width":"11.5rem",display:"inline-block","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",items:e.alcances_descripciones,label:"Alcance",readonly:"No Aplica"==e.proyecto.Proyecto_Alcance,disabled:"No Aplica"==e.proyecto.Proyecto_Alcance||e.permisoActualizarProyecto(),placeholder:"Selecciona..."},model:{value:e.proyecto.Proyecto_Alcance,callback:function(t){e.$set(e.proyecto,"Proyecto_Alcance",t)},expression:"proyecto.Proyecto_Alcance"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{label:"U. Negocio",readonly:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio,disabled:"No Aplica"==e.proyecto.Proyecto_Unidad_Negocio||e.permisoActualizarProyecto(),items:e.unidades_NegocioDescripciones,loading:e.isLoading,"search-input":e.searchUnidadesNegocio,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchUnidadesNegocio=t},"update:search-input":function(t){e.searchUnidadesNegocio=t}},model:{value:e.proyecto.Proyecto_Unidad_Negocio,callback:function(t){e.$set(e.proyecto,"Proyecto_Unidad_Negocio",t)},expression:"proyecto.Proyecto_Unidad_Negocio"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{label:"Responsable",readonly:"Sin Asignar"==e.proyecto.Proyecto_Responsable,disabled:"Sin Asignar"==e.proyecto.Proyecto_Responsable||e.permisoActualizarProyecto(),items:e.responsablesDescripciones,loading:e.isLoading,"search-input":e.searchResponsables,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchResponsables=t},"update:search-input":function(t){e.searchResponsables=t}},model:{value:e.proyecto.Proyecto_Responsable,callback:function(t){e.$set(e.proyecto,"Proyecto_Responsable",t)},expression:"proyecto.Proyecto_Responsable"}}),o("v-autocomplete",{staticStyle:{"min-width":"8rem","max-width":"10rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{label:"Vendedor",readonly:"Sin Asignar"==e.proyecto.Proyecto_Vendedor,disabled:"Sin Asignar"==e.proyecto.Proyecto_Vendedor||e.permisoActualizarProyecto(),items:e.vendedoresDescripciones,loading:e.isLoading,"search-input":e.searchVendedores,outlined:"",dense:"","cache-items":"",placeholder:"Selecciona...",color:"white"},on:{"update:searchInput":function(t){e.searchVendedores=t},"update:search-input":function(t){e.searchVendedores=t}},model:{value:e.proyecto.Proyecto_Vendedor,callback:function(t){e.$set(e.proyecto,"Proyecto_Vendedor",t)},expression:"proyecto.Proyecto_Vendedor"}}),o("v-select",{staticStyle:{"max-width":"8rem",display:"inline-block","margin-left":"0.5rem","margin-bottom":"-1.5rem"},attrs:{dense:"",outlined:"",items:e.monedasCodigos,label:"Moneda",readonly:"N/A"==e.proyecto.Proyecto_Moneda,disabled:"N/A"==e.proyecto.Proyecto_Moneda||e.permisoActualizarProyecto(),placeholder:"Selecciona..."},model:{value:e.proyecto.Proyecto_Moneda,callback:function(t){e.$set(e.proyecto,"Proyecto_Moneda",t)},expression:"proyecto.Proyecto_Moneda"}})],1)],1),o("v-col",{attrs:{cols:"3"}},[o("v-textarea",{staticStyle:{"min-width":"24rem","margin-top":"-1rem"},attrs:{"auto-grow":"","background-color":"white",filled:"",color:"black",label:"Descripcion detallada",counter:1e3,disabled:e.permisoActualizarProyecto(),placeholder:"Escribe..",rows:"4"},model:{value:e.proyecto.Proyecto_Observacion,callback:function(t){e.$set(e.proyecto,"Proyecto_Observacion",t)},expression:"proyecto.Proyecto_Observacion"}})],1),o("v-col",{staticStyle:{"margin-left":"1rem","max-width":"56rem","margin-top":"-1rem"},attrs:{cols:"12"}},[o("v-text",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Referentes")]),o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","min-width":"18rem"},attrs:{outlined:"",dense:"",label:"Referente Comercial",disabled:e.permisoActualizarProyecto(),rules:[e.rules.counterReferentes],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Comercial,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Comercial",t)},expression:"proyecto.Proyecto_Referente_Comercial"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"34rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Mail Comercial",disabled:e.permisoActualizarProyecto(),rules:[e.rules.counterReferentes,e.rules.checkEmail],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Comercial_Mail,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Comercial_Mail",t)},expression:"proyecto.Proyecto_Referente_Comercial_Mail"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"18rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Referente Técnico",disabled:e.permisoActualizarProyecto(),rules:[e.rules.counterReferentes],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Tecnico,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Tecnico",t)},expression:"proyecto.Proyecto_Referente_Tecnico"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"34rem","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Mail Técnico",disabled:e.permisoActualizarProyecto(),rules:[e.rules.counterReferentes,e.rules.checkEmail],placeholder:"Escribe..."},model:{value:e.proyecto.Proyecto_Referente_Tecnico_Mail,callback:function(t){e.$set(e.proyecto,"Proyecto_Referente_Tecnico_Mail",t)},expression:"proyecto.Proyecto_Referente_Tecnico_Mail"}})],1)],1),o("v-col",{staticStyle:{"margin-top":"-1rem","min-width":"26rem"},attrs:{cols:"3"}},[o("proyectosTecnologias",{attrs:{proyectoFueGuardado:e.proyectoFueGuardado}})],1)],1)],1)],1)],1)},Ke=[],Ge=o("46bd"),Be={components:{proyectosTecnologias:ge},data:function(){return{proyectoFueGuardado:!0,newsletter:null,rules:{checkCode:we,counterCodigo:he,counterDescripcion:ve,counterReferentes:ye,checkEmail:Ve},dialog:!1,searchUnidadesNegocio:"",searchResponsables:"",searchVendedores:"",proyecto:{Proyecto_Unidad_Negocio:null,Proyecto_Facturable:null,Proyecto_Alcance:null,Proyecto_Codigo:"",Proyecto_Descripcion:"",Proyecto_Tipo:null,Proyecto_Cliente:null,Proyecto_Moneda:null,Proyecto_Responsable:null,Proyecto_Vendedor:null,Proyecto_Referente_Comercial:"",Proyecto_Referente_Comercial_Mail:"",Proyecto_Referente_Tecnico:"",Proyecto_Referente_Tecnico_Mail:"",Proyecto_Codigo_Externo:"",Proyecto_Observacion:"",Proyecto_Newsletter:null,Usuario_Creacion:null,Usuario_Modificacion:null},defaultCode:"",tecnologiasOriginal:[],unidades_Negocio:[],alcances:[],proyectos_tipos:[],monedas:[],usuarios:[],tecnologias:[],responsables:[],vendedores:[],responsablesDescripciones:[],vendedoresDescripciones:[],alcances_descripciones:[],proyectos_tipos_descripciones:[],monedasCodigos:[],unidades_NegocioDescripciones:[],isLoading:!1,model:null,search:null}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo":"Editar"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadProyecto(),e.loadUnidades_Negocios(),e.loadProyectosAlcances(),e.loadProyectosTipos(),e.loadMonedas(),e.loadResponsables(),e.loadVendedores(),e.loadTecnologias(),e.loadTecnologiasBackup(),t.next=11,e.wait(1500);case 11:e.asignarDescripciones();case 12:case"end":return t.stop()}}),t)})))()},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},permisoActualizarProyecto:function(){return!localStorage.Permisos.includes("P19")},rollback:function(){0==this.$store.state.clienteTipo?this.$router.push({path:"/createCliente"}):this.$router.push({path:"/editCliente"})},guardar:function(){this.$refs.form.validate()&&this.validarPorcentaje()&&(this.guardarProyecto(),this.guardarTecnologias(),this.rollback())},validarPorcentaje:function(){var e=this.$store.state.proyecto[0].Tecnologias,t=0,o=!1;console.log(e);var i,a=Object(ce["a"])(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;t+=r.Proyecto_Tecnologia_Porcentaje}}catch(n){a.e(n)}finally{a.f()}return t>100?(alert("El porcentaje de tecnologías supera el 100%"),o):!(t<100)||(alert("El porcentaje de tecnologías no llega al 100%"),o)},loadProyecto:function(){this.proyecto=_.cloneDeep(this.$store.state.proyecto[0]),this.defaultCode=this.proyecto.Proyecto_Codigo},evalNewsletter:function(){return"Si"==this.proyecto.Proyecto_Newsletter.toString()},evalFacturable:function(){return 1==this.proyecto.Proyecto_Facturable},loadTecnologiasBackup:function(){this.tecnologiasOriginal=_.cloneDeep(this.$store.state.proyecto[0].Tecnologias)},loadMonedas:function(){var e=this;X.a.get(Ge+"/monedas").then((function(t){e.monedas=t.data,e.monedasCodigos=t.data.map((function(e){return e.Moneda_Codigo}))}))},loadProyectosAlcances:function(){var e=this;X.a.get(Ge+"/proyectos_alcances/descripciones").then((function(t){e.alcances=t.data,e.alcances_descripciones=t.data.map((function(e){return e.Proyecto_Alcance_Descripcion}))}))},loadProyectosTipos:function(){var e=this;X.a.get(Ge+"/proyectos_tipos/descripciones").then((function(t){e.proyectos_tipos=t.data,e.proyectos_tipos_descripciones=t.data.map((function(e){return e.Proyecto_Tipo_Descripcion}))}))},loadResponsables:function(){var e=this;X.a.get(Ge+"/colaboradores/descripciones").then((function(t){e.responsables=t.data.filter((function(e){return 2===e.Funcion.Colaborador_Funcion_Funcion_Key})),e.responsablesDescripciones=e.responsables.map((function(e){return e.Usuario.Usuario_Nombre_Completo})).sort()}))},loadVendedores:function(){var e=this;X.a.get(Ge+"/colaboradores/descripciones").then((function(t){e.vendedores=t.data.filter((function(e){return 1===e.Funcion.Colaborador_Funcion_Funcion_Key})),e.vendedoresDescripciones=e.vendedores.map((function(e){return e.Usuario.Usuario_Nombre_Completo})).sort()}))},loadUnidades_Negocios:function(){var e=this;X.a.get(Ge+"/unidades_negocios/descripciones").then((function(t){e.unidades_Negocio=t.data,e.unidades_NegocioDescripciones=t.data.map((function(e){return e.Unidad_Negocio_Descripcion}))}))},loadTecnologias:function(){var e=this;X.a.get(Ge+"/tecnologias/descripciones").then((function(t){e.tecnologias=t.data}))},asignarDescripciones:function(){var e=this,t=this.unidades_Negocio.filter((function(t){return t.Unidad_Negocio_Key==e.proyecto.Proyecto_Unidad_Negocio}))[0].Unidad_Negocio_Descripcion,o=this.alcances.filter((function(t){return t.Proyecto_Alcance_Key==e.proyecto.Proyecto_Alcance}))[0].Proyecto_Alcance_Descripcion,i=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Key==e.proyecto.Proyecto_Tipo}))[0].Proyecto_Tipo_Descripcion,a=this.monedas.filter((function(t){return t.Moneda_Key==e.proyecto.Proyecto_Moneda}))[0].Moneda_Codigo,r=this.proyecto.Responsable.Usuario_Nombre_Completo,n=this.proyecto.Vendedor.Usuario_Nombre_Completo;this.proyecto.Proyecto_Newsletter=this.evalNewsletter(),this.proyecto.Proyecto_Facturable=this.evalFacturable(),this.proyecto.Proyecto_Unidad_Negocio=t,this.proyecto.Proyecto_Alcance=o,this.proyecto.Proyecto_Tipo=i,this.proyecto.Proyecto_Moneda=a,this.proyecto.Proyecto_Responsable=r,this.proyecto.Proyecto_Vendedor=n},assignKeys:function(){var e=this,t=this.unidades_Negocio.filter((function(t){return t.Unidad_Negocio_Descripcion==e.proyecto.Proyecto_Unidad_Negocio}))[0].Unidad_Negocio_Key,o=this.alcances.filter((function(t){return t.Proyecto_Alcance_Descripcion==e.proyecto.Proyecto_Alcance}))[0].Proyecto_Alcance_Key,i=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0].Proyecto_Tipo_Key,a=this.monedas.filter((function(t){return t.Moneda_Codigo==e.proyecto.Proyecto_Moneda}))[0].Moneda_Key,r=this.responsables.filter((function(t){return t.Usuario.Usuario_Nombre_Completo==e.proyecto.Proyecto_Responsable}))[0].Colaborador_Usuario,n=this.vendedores.filter((function(t){return t.Usuario.Usuario_Nombre_Completo==e.proyecto.Proyecto_Vendedor}))[0].Colaborador_Usuario;this.proyecto.Proyecto_Unidad_Negocio=t,this.proyecto.Proyecto_Facturable=this.asignarFacturable(),this.proyecto.Proyecto_Newsletter=this.asignarNewsletter(),this.proyecto.Proyecto_Alcance=o,this.proyecto.Proyecto_Tipo=i,this.proyecto.Proyecto_Moneda=a,this.proyecto.Proyecto_Responsable=r,this.proyecto.Proyecto_Vendedor=n},asignarFacturable:function(){return 1==this.proyecto.Proyecto_Facturable?1:2},asignarNewsletter:function(){return 1==this.proyecto.Proyecto_Newsletter?"Si":"No"},guardarProyecto:function(){var e=this,t=this.proyecto.Proyecto_Codigo,o=this.proyecto.Proyecto_Descripcion;if(this.$store.state.cliente[0].Proyectos.some((function(e){return e.Proyecto_Codigo==t||e.Proyecto_Descripcion==o})))throw alert("El proyecto ya existe para el cliente seleccionado"),new Error;this.assignKeys(),X.a.patch(Ge+"/Proyectos/"+this.defaultCode,this.proyecto).then((function(t){console.log(e.proyecto)})),this.$store.state.cliente[0].Proyectos.filter((function(t){return t.Proyecto_Codigo!=e.defaultCode})).push(this.proyecto)},guardarTecnologias:function(){var e,t=this.tecnologiasOriginal,o=Object(ce["a"])(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;X.a.delete(Ge+"/proyectos_tecnologias/"+i.Proyecto_Tecnologia_Key)}}catch(s){o.e(s)}finally{o.f()}var a,r=this.$store.state.proyecto[0].Tecnologias,n=Object(ce["a"])(r);try{for(n.s();!(a=n.n()).done;){var c=a.value;this.asignarKey(c),X.a.post(Ge+"/Proyectos_Tecnologias",c).then((function(e){console.log(e)}))}}catch(s){n.e(s)}finally{n.f()}},asignarKey:function(e){if("string"===typeof e.Proyecto_Tecnologia_Tecnologia){var t=this.tecnologias.filter((function(t){return t.Tecnologia_Descripcion==e.Proyecto_Tecnologia_Tecnologia}))[0].Tecnologia_Key;e.Proyecto_Tecnologia_Tecnologia=t}},evalTooltipTiposProyectos:function(){var e=this,t=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];return void 0==t?"No se selecciono un Tipo":"Grupo: "+t.Proyecto_Tipo_Grupo+"\nBeneficio: "+t.Proyecto_Tipo_Beneficio},tipoBeneficio:function(){var e=this,t=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];return"Directo"!=t.Proyecto_Tipo_Beneficio},asignarSegunImportancia:function(){var e=this,t=this.proyectos_tipos.filter((function(t){return t.Proyecto_Tipo_Descripcion==e.proyecto.Proyecto_Tipo}))[0];"Directo"!=t.Proyecto_Tipo_Beneficio?(this.proyecto.Proyecto_Alcance="No Aplica",this.proyecto.Proyecto_Unidad_Negocio="No Aplica",this.proyecto.Proyecto_Responsable="Sin Asignar",this.proyecto.Proyecto_Vendedor="Sin Asignar",this.proyecto.Proyecto_Moneda="N/A",this.proyecto.Proyecto_Facturable=!1):(this.proyecto.Proyecto_Alcance="",this.proyecto.Proyecto_Unidad_Negocio="",this.proyecto.Proyecto_Responsable="",this.proyecto.Proyecto_Vendedor="",this.proyecto.Proyecto_Moneda="",this.proyecto.Proyecto_Facturable="",this.proyecto.Proyecto_Newsletter="",this.wait(2e3),this.asignarDescripciones())},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Xe=Be,He=(o("34fc"),Object(u["a"])(Xe,Le,Ke,!1,null,"9bba764e",null)),qe=He.exports;m()(He,{VAutocomplete:me["a"],VBtn:v["a"],VCard:y["a"],VCheckbox:je["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var Ye=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Datos generales")]),o("img",{staticStyle:{"margin-top":"-1rem","margin-left":"1rem"},attrs:{width:"180rem",height:"40rem",src:e.cliente.Cliente_Logo}}),o("v-dialog",{attrs:{persistent:"","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({attrs:{"x-small":"",fab:""}},"v-btn",a,!1),i),[o("v-icon",[e._v("mdi-camera")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-col",[o("v-card-title",{staticClass:"headline"},[e._v("Inserte link de Imagen")]),o("v-text-field",{attrs:{label:"Imagen:"},model:{value:e.logo,callback:function(t){e.logo=t},expression:"logo"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"#2991c6",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),o("v-btn",{attrs:{color:"#2991c6",text:""},on:{click:e.saveLogo}},[e._v("Guardar")])],1)],1)],1),o("v-btn",{staticStyle:{"margin-left":"38rem"},attrs:{disabled:e.permisoGuardar(),color:"#32b4dd",dark:""},on:{click:e.evaluarGuardado}},[e._v("Guardar")]),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.cleanStore}},[e._v("Cancelar")]),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem","margin-bottom":"-1rem"},attrs:{outlined:"",dense:"",label:"Código",rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.cliente.Cliente_Codigo,callback:function(t){e.$set(e.cliente,"Cliente_Codigo",t)},expression:"cliente.Cliente_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"25rem","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{outlined:"",dense:"",rules:[e.rules.counterDescripcion,e.rules.checkCodigo],label:"Descripción",placeholder:"Escribe..."},model:{value:e.cliente.Cliente_Descripcion,callback:function(t){e.$set(e.cliente,"Cliente_Descripcion",t)},expression:"cliente.Cliente_Descripcion"}}),o("v-select",{staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{dense:"",outlined:"",items:e.descripcionesRegiones,label:"Región",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Region,callback:function(t){e.$set(e.cliente,"Cliente_Region",t)},expression:"cliente.Cliente_Region"}}),o("v-select",{staticStyle:{"max-width":"12rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{dense:"",outlined:"",items:e.industriasDescripciones,label:"Industria",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Industria,callback:function(t){e.$set(e.cliente,"Cliente_Industria",t)},expression:"cliente.Cliente_Industria"}}),o("v-select",{staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-2rem"},attrs:{outlined:"",dense:"",items:e.empresasDescripciones,label:"Partner",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Empresa,callback:function(t){e.$set(e.cliente,"Cliente_Empresa",t)},expression:"cliente.Cliente_Empresa"}}),o("v-select",{staticStyle:{"max-width":"7rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-2rem"},attrs:{outlined:"",dense:"",items:e.monedasCodigos,label:"Moneda",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Moneda_Principal,callback:function(t){e.$set(e.cliente,"Cliente_Moneda_Principal",t)},expression:"cliente.Cliente_Moneda_Principal"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{outlined:"",placeholder:"Escribe..",label:"Observaciones",counter:1e3,rows:"2"},model:{value:e.cliente.Cliente_Observacion,callback:function(t){e.$set(e.cliente,"Cliente_Observacion",t)},expression:"cliente.Cliente_Observacion"}})],1)],1),o("v-col",{staticStyle:{"margin-left":"10rem"},attrs:{cols:"3"}})],1),o("v-row",[o("v-col",{staticStyle:{"max-width":"40rem","margin-top":"-2rem"},attrs:{cols:"12"}},[[o("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersProyectos,items:e.cliente.Proyectos,"sort-by":"Proyecto_Codigo","items-per-page":4,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(t){var i=t.pagination,a=t.options,r=t.updateOptions;return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[e._v("Proyectos")]),[o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{loading:!e.clienteFueGuardado,dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendCliente}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],o("v-data-footer",{staticClass:"dataFooter",attrs:{pagination:i,itemsPerPageOptions:[],options:a,"items-per-page-text":"",pageText:"{0}-{1} de {2}"},on:{"update:options":r}})],2)]}},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"/editProyecto"}},["X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Editar",small:"",color:"#2991c6"},on:{click:function(t){return e.sendProyecto(i)}}},[e._v(" mdi-pencil ")]):e._e()],1),"X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarElementoDialog(i)}}},[e._v(" mdi-eye-off ")]):e._e(),o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"show",rawName:"v-show",value:""==i.Visible,expression:" item.Visible == '' "}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarProyecto(i)}}},[e._v(" mdi-eye ")])]}}],null,!0)})]],2),o("v-col",{staticStyle:{"margin-top":"-2rem"},attrs:{cols:"5"}},[[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersRazonesSociales,items:e.cliente.ClientesFiscales,"sort-by":"Cliente_Fiscal_Descripcion","items-per-page":4,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(t){var i=t.pagination,a=t.options,r=t.updateOptions;return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[e._v("Clientes Fiscales")]),[o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{loading:!e.clienteFueGuardado,dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendCliente}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],o("v-data-footer",{staticClass:"dataFooter",attrs:{pagination:i,itemsPerPageOptions:[],options:a,"items-per-page-text":"",pageText:"{0}-{1} de {2}"},on:{"update:options":r}})],2)]}},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"/editClienteFiscal"}},["X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Editar",small:"",color:"#2991c6"},on:{click:function(t){return e.sendClienteFiscal(i)}}},[e._v(" mdi-pencil ")]):e._e()],1),"X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarClienteFiscal(i)}}},[e._v(" mdi-eye-off ")]):e._e(),""==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarClienteFiscal(i)}}},[e._v(" mdi-eye ")]):e._e()]}}],null,!0)})]],2)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDeleteProyecto,callback:function(t){e.dialogDeleteProyecto=t},expression:"dialogDeleteProyecto"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Estas seguro que deseas desactivar este elemento?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.desactivarProyecto}},[e._v("OK")]),o("v-spacer")],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDeleteClienteFiscal,callback:function(t){e.dialogDeleteClienteFiscal=t},expression:"dialogDeleteClienteFiscal"}},[o("v-card",[o("v-card-title",[e._v("Este elemento se desactivará. ¿Deseas continuar?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.desactivarClienteFiscal}},[e._v("OK")]),o("v-spacer")],1)],1)],1)],1)],1)},Je=[],Ze=o("46bd"),Qe={data:function(){return{dialog:!1,dialogDeleteProyecto:!1,dialogDeleteClienteFiscal:!1,clienteFueGuardado:!1,rules:{counterCodigo:he,counterDescripcion:ve,checkCode:we,checkEmail:Ve},headersRazonesSociales:[{text:"Tipo",align:"start",sortable:!1,value:"Cliente_Fiscal_Tipo_ID_Fiscal",width:"10%"},{text:"ID Fiscal",value:"Cliente_Fiscal_Identificador_Fiscal",width:"40%",sortable:!1},{text:"Descripción",value:"Cliente_Fiscal_Descripcion",width:"50%",sortable:!1},{text:"Activado",value:"Visible",sortable:!1,align:"center"},{text:"Principal",value:"Cliente_Fiscal_Predeterminado",sortable:!1,align:"center"},{text:"Acciones",value:"actions",sortable:!1,align:"end"}],headersProyectos:[{text:"Código",align:"start",sortable:!1,value:"Proyecto_Codigo"},{text:"Descripción",value:"Proyecto_Descripcion",sortable:!1},{text:"Tipo",value:"Proyecto_Tipo",sortable:!1},{text:"Responsable",value:"Proyecto_Responsable",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],cliente:{},defaultCode:"",elementoEditado:{},regiones:[],industrias:[],monedas:[],empresas:[],descripcionesRegiones:[],industriasDescripciones:[],empresasDescripciones:[],monedasCodigos:[],entries:[],isLoading:!1,model:null,search:null,logo:""}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadCliente(),e.loadRegions(),e.loadIndustrias(),e.loadMonedas(),e.loadEmpresas(),t.next=7,e.wait(1e3);case 7:e.clienteFueGuardado&&e.asignarDescripciones();case 8:case"end":return t.stop()}}),t)})))()},permisoGuardar:function(){return!localStorage.Permisos.includes("P6")},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},desactivarProyecto:function(){var e=this.indice,t=this.elementoEditado,o={Visible:""};t.Visible="",this.cliente.Proyectos.splice(e,1,t),X.a.patch(Ze+"/proyectos/"+t.Proyecto_Codigo,o).then((function(e){console.log(e)})),this.closeDialogProyecto()},activarProyecto:function(e){var t=this.cliente.Proyectos.indexOf(e),o={Visible:"X"};e.Visible="X",this.cliente.Proyectos.splice(t,1,e),X.a.patch(Ze+"/proyectos/"+e.Proyecto_Codigo,o).then((function(e){console.log(e)}))},desactivarClienteFiscal:function(){var e=this.indice,t=this.elementoEditado,o={Visible:""};t.Visible="",this.cliente.ClientesFiscales.splice(e,1,t),X.a.patch(Ze+"/clientes_fiscales/"+t.Cliente_Fiscal_Codigo,o).then((function(e){console.log(e)})),this.closeDialogClienteFiscal()},activarClienteFiscal:function(e){var t=this.cliente.ClientesFiscales.indexOf(e),o={Visible:"X"};e.Visible="X",this.cliente.ClientesFiscales.splice(t,1,e),X.a.patch(Ze+"/clientes_fiscales/"+e.Cliente_Fiscal_Codigo,o).then((function(e){console.log(e)}))},cleanStore:function(){this.$store.replaceState({cliente:[],clienteTipo:0,proyecto:[],clienteFiscal:[],empresa:[]}),this.$router.push({path:"/clientesTable"})},sendCliente:function(){this.$store.state.cliente[0]=this.cliente,this.$store.state.proyecto[0]=this.proyectoVacio(),this.$store.state.clienteTipo=1},sendProyecto:function(e){this.sendCliente(),this.$store.state.proyecto[0]=e},loadCliente:function(){this.cliente=_.cloneDeep(this.$store.state.cliente[0]),this.clienteFueGuardado=this.$store.state.clienteFueGuardado},sendToClienteFiscal:function(){this.$store.state.clienteTipo=0,this.$router.push({path:"/createClienteFiscal"})},sendToProyecto:function(){this.$store.state.clienteTipo=0,this.$store.state.proyecto[0]=this.proyectoVacio(),this.$router.push({path:"/createProyecto"})},proyectoVacio:function(){return{Proyecto_Unidad_Negocio:null,Proyecto_Facturable:!1,Proyecto_Tipo:null,Proyecto_Codigo:"",Proyecto_Descripcion:"",Proyecto_Importancia:null,Proyecto_Cliente:null,Proyecto_Moneda:null,Proyecto_Responsable:null,Proyecto_Vendedor:null,Proyecto_Referente_Comercial:"",Proyecto_Referente_Comercial_Mail:"",Proyecto_Referente_Tecnico:"",Proyecto_Referente_Tecnico_Mail:"",Proyecto_Codigo_Externo:"",Proyecto_Newsletter:"No",Proyecto_Observacion:"",Usuario_Creacion:null,Usuario_Modificacion:null,Tecnologias:[]}},evaluarGuardado:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=9;break}if(e.clienteFueGuardado){t.next=7;break}if(!e.$refs.form.validate()){t.next=5;break}return t.next=5,e.guardarCliente();case 5:t.next=9;break;case 7:e.guardarClientesFiscales(),e.$router.push({path:"/clientesTable"});case 9:case"end":return t.stop()}}),t)})))()},guardarCliente:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.assignKeys();case 2:return o=e.cliente.Cliente_Codigo,t.next=5,X.a.post(Ze+"/clientes",e.cliente).then((function(t){e.asignarDescripciones(),alert(t.data)})).catch((function(t){throw alert("No se ha podido crear. Cliente ya existe"),e.asignarDescripciones(),new Error("El cliente ya existe")}));case 5:return t.next=7,X.a.get(Ze+"/clientes/"+o).then((function(t){e.$store.state.cliente[0]=t.data}));case 7:e.clienteFueGuardado=!0,e.$store.state.clienteFueGuardado=!0;case 9:case"end":return t.stop()}}),t)})))()},loadRegions:function(){var e=this;X.a.get(Ze+"/regiones/descripciones").then((function(t){e.regiones=t.data,e.descripcionesRegiones=t.data.map((function(e){return e.Region_Descripcion}))}))},loadIndustrias:function(){var e=this;X.a.get(Ze+"/industrias/descripciones").then((function(t){e.industrias=t.data,e.industriasDescripciones=t.data.map((function(e){return e.Industria_Descripcion}))}))},loadRazonesSociales:function(){var e=this;X.a.get(Ze+"/razones_sociales/descripciones").then((function(t){e.razones_Sociales=t.data,e.razones_Sociales_Descripciones=t.data.map((function(e){return e.Cliente_Fiscal_Descripcion}))}))},loadMonedas:function(){var e=this;X.a.get(Ze+"/monedas").then((function(t){e.monedas=t.data,e.monedasCodigos=t.data.map((function(e){return e.Moneda_Codigo}))}))},loadEmpresas:function(){var e=this;X.a.get(Ze+"/empresas").then((function(t){e.empresas=t.data,e.empresasDescripciones=t.data.map((function(e){return e.Empresa_Descripcion}))}))},asignarDescripciones:function(){var e=this,t=this.regiones.filter((function(t){return t.Region_Key==e.cliente.Cliente_Region}))[0].Region_Descripcion,o=this.industrias.filter((function(t){return t.Industria_Key==e.cliente.Cliente_Industria}))[0].Industria_Descripcion,i=this.monedas.filter((function(t){return t.Moneda_Key==e.cliente.Cliente_Moneda_Principal}))[0].Moneda_Codigo,a=this.empresas.filter((function(t){return t.Empresa_Key==e.cliente.Cliente_Empresa}))[0].Empresa_Descripcion;this.cliente.Cliente_Region=t,this.cliente.Cliente_Industria=o,this.cliente.Cliente_Empresa=a,this.cliente.Cliente_Moneda_Principal=i},assignKeys:function(){var e=this,t=this.regiones.filter((function(t){return t.Region_Descripcion==e.cliente.Cliente_Region}))[0].Region_Key,o=this.industrias.filter((function(t){return t.Industria_Descripcion==e.cliente.Cliente_Industria}))[0].Industria_Key,i=this.monedas.filter((function(t){return t.Moneda_Codigo==e.cliente.Cliente_Moneda_Principal}))[0].Moneda_Key,a=this.empresas.filter((function(t){return t.Empresa_Descripcion==e.cliente.Cliente_Empresa}))[0].Empresa_Key;this.cliente.Cliente_Region=t,this.cliente.Cliente_Industria=o,this.cliente.Cliente_Empresa=a,this.cliente.Cliente_Moneda_Principal=i},saveLogo:function(){this.cliente.Cliente_Logo=this.logo,this.dialog=!1},guardarClientesFiscales:function(){var e=this.$store.state.cliente[0].ClientesFiscales;if(0!=e.length){var t,o=Object(ce["a"])(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;X.a.post(Ze+"/clientes_fiscales/",i).then((function(e){console.log(e.data)}))}}catch(a){o.e(a)}finally{o.f()}alert("Clientes Fiscales correctamente guardados")}},desactivarElementoDialogProyecto:function(e){this.indice=this.desserts.indexOf(e),this.elementoEditado=Object.assign({},e),this.dialogDeleteProyecto=!0},desactivarElementoDialogClienteFiscal:function(e){this.indice=this.desserts.indexOf(e),this.elementoEditado=Object.assign({},e),this.dialogDeleteClienteFiscal=!0},closeDialogProyecto:function(){this.dialogDeleteProyecto=!1,this.elementoEditado={},this.indice=0},closeDialogClienteFiscal:function(){this.dialogDeleteClienteFiscal=!1,this.elementoEditado={},this.indice=0},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},We=Qe,et=(o("0530"),o("f41f")),tt=Object(u["a"])(We,Ye,Je,!1,null,"129e0e1e",null),ot=tt.exports;m()(tt,{VBtn:v["a"],VCard:y["a"],VCardActions:J["a"],VCardTitle:J["c"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VDataFooter:et["a"],VDataTable:Z["a"],VDialog:Q["a"],VForm:Ae["a"],VIcon:P["a"],VRow:fe["a"],VSelect:Me["a"],VSpacer:ee["a"],VTextField:te["a"],VTextarea:Oe["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var it=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Datos generales")]),o("img",{staticStyle:{"margin-top":"-1rem","margin-left":"1rem"},attrs:{width:"180rem",height:"40rem",src:e.cliente.Cliente_Logo}}),o("v-dialog",{attrs:{persistent:"","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({attrs:{"x-small":"",fab:""}},"v-btn",a,!1),i),[o("v-icon",[e._v("mdi-camera")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-col",[o("v-card-title",{staticClass:"headline"},[e._v("Inserte link de Imagen")]),o("v-text-field",{attrs:{label:"Imagen:"},model:{value:e.logo,callback:function(t){e.logo=t},expression:"logo"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"#2991c6",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),o("v-btn",{attrs:{color:"#2991c6",text:""},on:{click:e.saveLogo}},[e._v("Guardar")])],1)],1)],1),o("v-btn",{staticStyle:{"margin-left":"38rem"},attrs:{disabled:e.permisoGuardar(),color:"#32b4dd",dark:""},on:{click:e.guardar}},[e._v("Guardar")]),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.cleanStore}},[e._v("Cancelar")]),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem","margin-bottom":"-1rem"},attrs:{outlined:"",dense:"",label:"Código",disabled:e.permisoGuardar(),rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.cliente.Cliente_Codigo,callback:function(t){e.$set(e.cliente,"Cliente_Codigo",t)},expression:"cliente.Cliente_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"25rem","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{outlined:"",dense:"",disabled:e.permisoGuardar(),rules:[e.rules.counterDescripcion,e.rules.checkCodigo],label:"Descripción",placeholder:"Escribe..."},model:{value:e.cliente.Cliente_Descripcion,callback:function(t){e.$set(e.cliente,"Cliente_Descripcion",t)},expression:"cliente.Cliente_Descripcion"}}),o("v-select",{staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{dense:"",outlined:"",disabled:e.permisoGuardar(),items:e.descripcionesRegiones,label:"Región",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Region,callback:function(t){e.$set(e.cliente,"Cliente_Region",t)},expression:"cliente.Cliente_Region"}}),o("v-select",{staticStyle:{"max-width":"12rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1rem"},attrs:{dense:"",outlined:"",disabled:e.permisoGuardar(),items:e.industriasDescripciones,label:"Industria",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Industria,callback:function(t){e.$set(e.cliente,"Cliente_Industria",t)},expression:"cliente.Cliente_Industria"}}),o("v-select",{staticStyle:{"max-width":"10rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-2rem"},attrs:{outlined:"",dense:"",disabled:e.permisoGuardar(),items:e.empresasDescripciones,label:"Partner",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Empresa,callback:function(t){e.$set(e.cliente,"Cliente_Empresa",t)},expression:"cliente.Cliente_Empresa"}}),o("v-select",{staticStyle:{"max-width":"7rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-2rem"},attrs:{outlined:"",dense:"",disabled:e.permisoGuardar(),items:e.monedasCodigos,label:"Moneda",placeholder:"Selecciona..."},model:{value:e.cliente.Cliente_Moneda_Principal,callback:function(t){e.$set(e.cliente,"Cliente_Moneda_Principal",t)},expression:"cliente.Cliente_Moneda_Principal"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{outlined:"",disabled:e.permisoGuardar(),placeholder:"Escribe..",label:"Observaciones",counter:1e3,rows:"2"},model:{value:e.cliente.Cliente_Observacion,callback:function(t){e.$set(e.cliente,"Cliente_Observacion",t)},expression:"cliente.Cliente_Observacion"}})],1)],1),o("v-col",{staticStyle:{"margin-left":"10rem"},attrs:{cols:"3"}})],1),o("v-row",[o("v-col",{staticStyle:{"max-width":"40rem","margin-top":"-2rem"},attrs:{cols:"12"}},[[o("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersProyectos,items:e.cliente.Proyectos,"sort-by":"Proyecto_Codigo","items-per-page":4,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(t){var i=t.pagination,a=t.options,r=t.updateOptions;return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[e._v("Proyectos")]),[o("router-link",{attrs:{to:"/createProyecto"}},[e.permisoCrearProyectos()?o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendCliente}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):e._e()],1)],o("v-data-footer",{staticClass:"dataFooter",attrs:{pagination:i,itemsPerPageOptions:[],options:a,"items-per-page-text":"",pageText:"{0}-{1} de {2}"},on:{"update:options":r}})],2)]}},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"/editProyecto"}},[e.permisoEditarProyecto()?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Ver más",small:"",color:"#2991c6"},on:{click:function(t){return e.sendProyecto(i)}}},[e._v(" mdi-sunglasses ")]):e._e()],1),e.permisoDesacticarProyecto()?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarElementoDialogProyecto(i)}}},[e._v(" mdi-eye-off ")]):e._e(),o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"show",rawName:"v-show",value:""==i.Visible,expression:" item.Visible == '' "}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarProyecto(i)}}},[e._v(" mdi-eye ")])]}}],null,!0)})]],2),o("v-col",{staticStyle:{"margin-top":"-2rem"},attrs:{cols:"5"}},[[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersRazonesSociales,items:e.cliente.ClientesFiscales,"sort-by":"Cliente_Fiscal_Descripcion","items-per-page":4,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(t){var i=t.pagination,a=t.options,r=t.updateOptions;return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",{staticStyle:{"font-size":"1.5rem"}},[e._v("Clientes Fiscales")]),[o("router-link",{attrs:{to:"/createClienteFiscal"}},[e.permisoCrearClienteFiscal()?o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendCliente}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):e._e()],1)],o("v-data-footer",{staticClass:"dataFooter",attrs:{pagination:i,itemsPerPageOptions:[],options:a,"items-per-page-text":"",pageText:"{0}-{1} de {2}"},on:{"update:options":r}})],2)]}},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"/editClienteFiscal"}},["X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Ver más",disabled:e.permisoleerClienteFiscal(),small:"",color:"#2991c6"},on:{click:function(t){return e.sendClienteFiscal(i)}}},[e._v(" mdi-sunglasses ")]):e._e()],1),"X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarElementoDialogClienteFiscal(i)}}},[e._v(" mdi-eye-off ")]):e._e(),""==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarClienteFiscal(i)}}},[e._v(" mdi-eye ")]):e._e()]}}],null,!0)})]],2)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDeleteProyecto,callback:function(t){e.dialogDeleteProyecto=t},expression:"dialogDeleteProyecto"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Estas seguro que deseas desactivar este elemento?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticStyle:{"margin-left":"18rem"},attrs:{color:"#32b4dd",dark:""},on:{click:e.desactivarProyecto}},[e._v("OK")]),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.closeDialogProyecto}},[e._v("Cancelar")]),o("v-spacer")],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDeleteClienteFiscal,callback:function(t){e.dialogDeleteClienteFiscal=t},expression:"dialogDeleteClienteFiscal"}},[o("v-card",[o("v-card-title",[e._v("Este elemento se desactivará. ¿Deseas continuar?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticStyle:{"margin-left":"18rem"},attrs:{color:"#32b4dd",dark:""},on:{click:e.desactivarClienteFiscal}},[e._v("OK")]),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.closeDialogClienteFiscal}},[e._v("Cancelar")]),o("v-spacer")],1)],1)],1)],1)],1)},at=[],rt=o("46bd"),nt={data:function(){return{dialog:!1,dialogDeleteProyecto:!1,dialogDeleteClienteFiscal:!1,rules:{counterCodigo:he,counterDescripcion:ve,checkCode:we,checkEmail:Ve},headersRazonesSociales:[{text:"Tipo",align:"start",sortable:!1,value:"Cliente_Fiscal_Tipo_ID_Fiscal",width:"10%"},{text:"ID Fiscal",value:"Cliente_Fiscal_Identificador_Fiscal",width:"40%",sortable:!1},{text:"Descripción",value:"Cliente_Fiscal_Descripcion",width:"50%",sortable:!1},{text:"Activado",value:"Visible",sortable:!1,align:"center"},{text:"Principal",value:"Cliente_Fiscal_Predeterminado",sortable:!1,align:"center"},{text:"Acciones",value:"actions",sortable:!1,align:"end"}],headersProyectos:[{text:"Código",align:"start",sortable:!1,value:"Proyecto_Codigo"},{text:"Descripción",value:"Proyecto_Descripcion",sortable:!1},{text:"Tipo",value:"Tipo.Proyecto_Tipo_Descripcion",sortable:!1},{text:"Responsable",value:"Responsable.Usuario_Nombre_Completo",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],cliente:{},item:1,defaultCode:"",elementoEditado:{},indice:0,regiones:[],industrias:[],monedas:[],empresas:[],descripcionesRegiones:[],industriasDescripciones:[],monedasCodigos:[],empresasDescripciones:[],entries:[],isLoading:!1,model:null,search:null,logo:""}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadCliente(),e.loadRegions(),e.loadIndustrias(),e.loadMonedas(),e.loadEmpresas(),e.loadClientesFiscalesBackup(),t.next=8,e.wait(2e3);case 8:e.asignarDescripciones();case 9:case"end":return t.stop()}}),t)})))()},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},loadClientesFiscalesBackup:function(){this.clientesFiscalesOriginal=_.cloneDeep(this.$store.state.cliente[0].ClientesFiscales)},permisoGuardar:function(){return!localStorage.Permisos.includes("P6")},permisoleerClienteFiscal:function(){return localStorage.Permisos.includes("P11")},permisoCrearClienteFiscal:function(){return localStorage.Permisos.includes("P12")},permisoCrearProyectos:function(){return localStorage.Permisos.includes("P18")},permisoEditarProyecto:function(){return localStorage.Permisos.includes("P20")},permisoDesacticarProyecto:function(){return localStorage.Permisos.includes("P19")},desactivarProyecto:function(){var e=this.indice,t=this.elementoEditado,o={Visible:""};t.Visible="",this.cliente.Proyectos.splice(e,1,t),X.a.patch(rt+"/proyectos/"+t.Proyecto_Codigo,o).then((function(e){console.log(e)})),this.closeDialogProyecto()},activarProyecto:function(e){var t=this.cliente.Proyectos.indexOf(e),o={Visible:"X"};e.Visible="X",this.cliente.Proyectos.splice(t,1,e),X.a.patch(rt+"/proyectos/"+e.Proyecto_Codigo,o).then((function(e){console.log(e)}))},desactivarClienteFiscal:function(){var e=this.indice,t=this.elementoEditado,o={Visible:""};t.Visible="",this.cliente.ClientesFiscales.splice(e,1,t),X.a.patch(rt+"/clientes_fiscales/"+t.Cliente_Fiscal_Codigo,o).then((function(e){console.log(e)})),this.closeDialogClienteFiscal()},activarClienteFiscal:function(e){var t=this.cliente.ClientesFiscales.indexOf(e),o={Visible:"X"};e.Visible="X",this.cliente.ClientesFiscales.splice(t,1,e),X.a.patch(rt+"/clientes_fiscales/"+e.Cliente_Fiscal_Codigo,o).then((function(e){console.log(e)}))},guardar:function(){var e=this;this.assignKeys(),this.$refs.form.validate()&&(X.a.patch(rt+"/clientes/"+this.defaultCode,this.cliente).then((function(t){e.asignarDescripciones(),e.guardarClientesFiscales()})).catch((function(t){throw alert("No se ha podido actualizar. El Cliente ya existe"),e.asignarDescripciones(),new Error("El cliente ya existe")})),alert("Actualizado Correctamente"),this.$router.push({path:"/clientesTable"}))},cleanStore:function(){this.$store.replaceState({cliente:[],clienteTipo:0,proyecto:[],clienteFiscal:[],empresa:[]}),this.$router.push({path:"/clientesTable"})},loadCliente:function(){this.cliente=this.$store.state.cliente[0],this.logo=this.$store.state.cliente[0].Cliente_Logo,this.defaultCode=this.$store.state.cliente[0].Cliente_Codigo},sendCliente:function(){this.$store.state.cliente[0]=this.cliente,this.$store.state.proyecto[0]=this.proyectoVacio(),this.$store.state.clienteTipo=1},sendClienteFiscal:function(e){this.sendCliente(),this.$store.state.clienteFiscal[0]=e},sendProyecto:function(e){this.sendCliente(),this.$store.state.proyecto[0]=e},proyectoVacio:function(){return{Proyecto_Unidad_Negocio:"",Proyecto_Facturable:2,Proyecto_Tipo:null,Proyecto_Codigo:"",Proyecto_Descripcion:"",Proyecto_Importancia:null,Proyecto_Cliente:null,Proyecto_Moneda:null,Proyecto_Responsable:null,Proyecto_Vendedor:null,Proyecto_Referente_Comercial:"",Proyecto_Referente_Comercial_Mail:"",Proyecto_Referente_Tecnico:"",Proyecto_Referente_Tecnico_Mail:"",Proyecto_Codigo_Externo:"",Proyecto_Newsletter:"No",Proyecto_Observacion:"",Usuario_Creacion:null,Usuario_Modificacion:null,Tecnologias:[]}},loadRegions:function(){var e=this;X.a.get(rt+"/regiones/descripciones").then((function(t){e.regiones=t.data,e.descripcionesRegiones=t.data.map((function(e){return e.Region_Descripcion}))}))},loadIndustrias:function(){var e=this;X.a.get(rt+"/industrias/descripciones").then((function(t){e.industrias=t.data,e.industriasDescripciones=t.data.map((function(e){return e.Industria_Descripcion}))}))},loadMonedas:function(){var e=this;X.a.get(rt+"/monedas").then((function(t){e.monedas=t.data,e.monedasCodigos=t.data.map((function(e){return e.Moneda_Codigo}))}))},loadEmpresas:function(){var e=this;X.a.get(rt+"/empresas").then((function(t){e.empresas=t.data,e.empresasDescripciones=t.data.map((function(e){return e.Empresa_Descripcion}))}))},asignarDescripciones:function(){var e=this,t=this.regiones.filter((function(t){return t.Region_Key==e.cliente.Cliente_Region}))[0].Region_Descripcion,o=this.industrias.filter((function(t){return t.Industria_Key==e.cliente.Cliente_Industria}))[0].Industria_Descripcion,i=this.monedas.filter((function(t){return t.Moneda_Key==e.cliente.Cliente_Moneda_Principal}))[0].Moneda_Codigo,a=this.empresas.filter((function(t){return t.Empresa_Key==e.cliente.Cliente_Empresa}))[0].Empresa_Descripcion;this.cliente.Cliente_Region=t,this.cliente.Cliente_Industria=o,this.cliente.Cliente_Empresa=a,this.cliente.Cliente_Moneda_Principal=i},assignKeys:function(){var e=this,t=this.regiones.filter((function(t){return t.Region_Descripcion==e.cliente.Cliente_Region}))[0].Region_Key,o=this.industrias.filter((function(t){return t.Industria_Descripcion==e.cliente.Cliente_Industria}))[0].Industria_Key,i=this.monedas.filter((function(t){return t.Moneda_Codigo==e.cliente.Cliente_Moneda_Principal}))[0].Moneda_Key,a=this.empresas.filter((function(t){return t.Empresa_Descripcion==e.cliente.Cliente_Empresa}))[0].Empresa_Key;this.cliente.Cliente_Region=t,this.cliente.Cliente_Industria=o,this.cliente.Cliente_Empresa=a,this.cliente.Cliente_Moneda_Principal=i},guardarClientesFiscales:function(){if(0!=this.clientesFiscalesOriginal.length){var e,t=this.clientesFiscalesOriginal,o=Object(ce["a"])(t);try{for(o.s();!(e=o.n()).done;)clienteFiscal=e.value,X.a.delete(rt+"/clientes_fiscales/"+clienteFiscal.Cliente_Fiscal_Codigo)}catch(c){o.e(c)}finally{o.f()}var i,a=this.$store.state.cliente[0].ClientesFiscales,r=Object(ce["a"])(a);try{var n=function(){var e=i.value;X.a.post(rt+"/clientes_fiscales",e).then((function(e){console.log(res.data)})).catch((function(t){alert("Cliente Fiscal"+e.Cliente_Fiscal_Descripcion+"ya existe")}))};for(r.s();!(i=r.n()).done;)n()}catch(c){r.e(c)}finally{r.f()}alert("Clientes Fiscales correctamente añadidos")}},saveLogo:function(){this.cliente.Cliente_Logo=this.logo,this.dialog=!1},desactivarElementoDialogProyecto:function(e){this.indice=this.cliente.Proyectos.indexOf(e),this.elementoEditado=Object.assign({},e),this.dialogDeleteProyecto=!0},desactivarElementoDialogClienteFiscal:function(e){this.indice=this.cliente.ClientesFiscales.indexOf(e),this.elementoEditado=Object.assign({},e),this.dialogDeleteClienteFiscal=!0},closeDialogProyecto:function(){this.dialogDeleteProyecto=!1,this.elementoEditado={},this.indice=0},closeDialogClienteFiscal:function(){this.dialogDeleteClienteFiscal=!1,this.elementoEditado={},this.indice=0},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},ct=nt,st=(o("ef0c"),Object(u["a"])(ct,it,at,!1,null,"77b5671e",null)),lt=st.exports;m()(st,{VBtn:v["a"],VCard:y["a"],VCardActions:J["a"],VCardTitle:J["c"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VDataFooter:et["a"],VDataTable:Z["a"],VDialog:Q["a"],VForm:Ae["a"],VIcon:P["a"],VRow:fe["a"],VSelect:Me["a"],VSpacer:ee["a"],VTextField:te["a"],VTextarea:Oe["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticClass:"screen"},[o("v-row",{staticClass:"fill-height"},[o("v-col",[o("v-sheet",{attrs:{height:"64",width:"1290"}},[o("v-toolbar",{attrs:{flat:""}},[o("v-select",{staticStyle:{"margin-bottom":"4px","margin-top":"2rem","max-width":"12rem"},attrs:{items:e.regionsDescriptions,label:"Región",placeholder:"Selecciona...",outlined:"",dense:""},on:{input:e.eventsFromRegion},model:{value:e.regionSeleccionada,callback:function(t){e.regionSeleccionada=t},expression:"regionSeleccionada"}}),o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[o("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),o("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[o("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),o("v-toolbar-title",{staticStyle:{"margin-left":"18rem"}},[e._v(" "+e._s(e.title)+" ")]),o("v-spacer"),o("router-link",{staticStyle:{position:"relative",right:"14.5%"},attrs:{to:"/periodos"}},[o("v-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Activar o desactivar períodos",dark:"",rounded:"",color:"#2991c6"}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-lock-open")]),o("v-icon",{attrs:{dark:""}},[e._v("mdi-lock")])],1)],1),e.permisoActualizarCalendario()?o("v-btn",{attrs:{dark:"",fab:"",small:"",color:"#2991c6"},on:{click:function(t){e.dialog=!0}}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):e._e()],1)],1),o("v-sheet",{attrs:{height:"450",width:"1290"}},[o("v-calendar",{ref:"calendar",attrs:{locale:"es",color:"primary",events:e.events,"event-color":e.getEventColor,type:"month"},on:{"click:event":e.showEvent,change:e.updateRange},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),o("v-dialog",{attrs:{width:"350"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-container",[o("v-form",{on:{submit:function(t){return t.preventDefault(),e.addEvent(t)}}},[o("v-select",{attrs:{items:e.typeEvents,placeholder:"Selecciona...",label:"Tipo"},model:{value:e.newEvent.type,callback:function(t){e.$set(e.newEvent,"type",t)},expression:"newEvent.type"}}),o("v-text-field",{attrs:{width:"200",type:"text",label:"Feriado",placeholder:"Descripción"},model:{value:e.newEvent.name,callback:function(t){e.$set(e.newEvent,"name",t)},expression:"newEvent.name"}}),o("v-select",{attrs:{items:e.regionsDescriptions,label:"Región",placeholder:"Selecciona..."},model:{value:e.newEvent.region,callback:function(t){e.$set(e.newEvent,"region",t)},expression:"newEvent.region"}}),o("v-text-field",{staticStyle:{width:"9rem",display:"inline-block"},attrs:{type:"date",label:"Feriado"},model:{value:e.newEvent.start,callback:function(t){e.$set(e.newEvent,"start",t)},expression:"newEvent.start"}}),o("v-btn",{staticStyle:{"margin-left":"4rem",display:"inline-block"},attrs:{type:"submit",color:"#2991c6"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v(" AGREGAR ")])],1)],1)],1)],1),o("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[o("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[o("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[o("v-btn",{attrs:{icon:""}},[o("v-icon",[e._v("mdi-pencil")])],1),o("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),o("v-spacer"),o("v-btn",{attrs:{icon:""}},[o("v-icon",[e._v("mdi-heart")])],1),o("v-btn",{attrs:{icon:""}},[o("v-icon",[e._v("mdi-dots-vertical")])],1)],1),o("v-card-text",[o("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),o("v-card-actions",[o("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)],1)},ut=[],pt=(o("b0c0"),o("a9e3"),o("25eb"),o("46bd")),mt={data:function(){return{title:"",focus:"",type:"month",typeToLabel:{month:"Month"},start:null,end:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],eventsFromApi:[],newEvent:{type:"",name:"",region:"",start:null,color:"blue"},regionsDescriptions:[],regiones:[],typeEvents:["Feriado","Notificacion"],name:"",dialog:!1,monthName:"",regionSeleccionada:""}},created:function(){this.getEvents(),this.loadRegions(),console.log(this.$refs.calendar)},mounted:function(){this.$refs.calendar.checkChange()},methods:{getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=this,o=e.nativeEvent,i=e.event,a=function(){t.selectedEvent=i,t.selectedElement=o.target,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(a,10)):a(),o.stopPropagation()},updateRange:function(e){var t=e.start,o=e.end;this.start=t,this.end=o;var i=this.start.year,a=this.start.month,r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];this.title=r[a-1]+" - "+i},getEvents:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X.a.get(pt+"/feriados").then((function(t){e.eventsFromApi=t.data}));case 2:for(o=0;o<e.eventsFromApi.length;o++)e.events.push({name:e.eventsFromApi[o].Feriado_Descripcion,start:e.eventsFromApi[o].Feriado_Fecha,end:e.eventsFromApi[o].Feriado_Fecha,color:"blue"});case 3:case"end":return t.stop()}}),t)})))()},getNotifications:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X.a.get(pt+"/tiempos");case 2:case"end":return e.stop()}}),e)})))()},loadRegions:function(){var e=this;X.a.get(pt+"/regiones/descripciones").then((function(t){e.regiones=t.data,e.regionsDescriptions=t.data.map((function(e){return e.Region_Descripcion}))}))},eventsFromRegion:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.assignKey(),console.log(o),e.events=[],t.next=5,X.a.get(pt+"/feriados/"+o).then((function(t){e.eventsFromApi=t.data}));case 5:for(i=0;i<e.eventsFromApi.length;i++)e.events.push({name:e.eventsFromApi[i].Feriado_Descripcion,start:e.eventsFromApi[i].Feriado_Fecha,end:e.eventsFromApi[i].Feriado_Fecha,color:"blue"});case 6:case"end":return t.stop()}}),t)})))()},addEvent:function(){var e=this;if("Feriado"==this.newEvent.type){var t={Feriado_Region:this.regiones.filter((function(t){return t.Region_Descripcion==e.newEvent.region}))[0].Region_Key,Feriado_Tiempo:this.convertDateToInt(this.newEvent.start),Feriado_Fecha:this.newEvent.start,Feriado_Descripcion:this.newEvent.name,Feriado_Laborable:"",Usuario_Creacion:1,Usuario_Modificacion:1};this.events.push(this.newEvent),X.a.post(pt+"/feriados",t).then((function(e){alert("Evento agregado al calendario")}))}this.newEvent={name:"",region:"",start:null,color:"blue"}},convertDateToInt:function(e){var t=e.substring(0,4),o=e.substring(5,7),i=e.substring(8,10),a=t+o+i;return console.log(a),Number.parseInt(a)},assignKey:function(){var e=this,t=this.regiones.filter((function(t){return t.Region_Descripcion==e.regionSeleccionada}))[0].Region_Key;return t},permisoActualizarCalendario:function(){return localStorage.Permisos.includes("P30")},permisoActualizarPeriodos:function(){return localStorage.Permisos.includes("P26")},rnd:function(e,t){return Math.floor((t-e+1)*Math.random())+e},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},ft=mt,_t=(o("70e6"),o("a4f6")),gt=o("e449"),ht=o("8dd9"),vt=Object(u["a"])(ft,dt,ut,!1,null,"129fb8f2",null),yt=vt.exports;m()(vt,{VBtn:v["a"],VCalendar:_t["a"],VCard:y["a"],VCardActions:J["a"],VCardText:J["b"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VDialog:Q["a"],VForm:Ae["a"],VIcon:P["a"],VMenu:gt["a"],VRow:fe["a"],VSelect:Me["a"],VSheet:ht["a"],VSpacer:ee["a"],VTextField:te["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var bt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",[o("v-data-table",{staticStyle:{position:"relative",left:"25%","max-width":"50%"},attrs:{headers:e.headers,items:e.desserts,"items-per-page":"100","hide-default-footer":"","hide-default-header":"",width:"10rem"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{dense:"",flat:"",color:"white"}},[o("v-toolbar-title",[e._v("Períodos")]),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-select",{staticStyle:{position:"absolute",left:"25%","max-width":"10rem","max-height":"2rem"},attrs:{dense:"",outlined:"",label:"Desde",placeholder:"Selecciona...","menu-props":{bottom:!0,offsetY:!0},items:e.fechas},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}}),o("v-select",{staticStyle:{position:"absolute",left:"58%","max-width":"10rem","max-height":"2rem"},attrs:{dense:"",outlined:"",label:"Hasta",placeholder:"Selecciona...","menu-props":{bottom:!0,offsetY:!0},items:e.fechas},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}}),o("v-btn",{staticStyle:{position:"absolute",left:"92%",bottom:"5%"},attrs:{dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:function(t){return e.searchPeriods(e.fechaDesde,e.fechaHasta)}}},[o("v-icon",[e._v(" mdi-magnify ")])],1),o("v-spacer")],1),o("v-divider",{staticClass:"mx-4",attrs:{horizontal:""}})]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[e.permisoModificarPeriodosAbiertos(i)?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Cerrar período",medium:"",color:"#2991c6"},on:{click:function(t){return e.cerrarMes(i)}}},[e._v(" mdi-lock-open ")]):e._e(),e.permisoModificarPeriodosCerrados(i)?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Abrir período",medium:"",color:"#2991c6"},on:{click:function(t){return e.abrirMes(i)}}},[e._v(" mdi-lock ")]):e._e()]}}],null,!0)})],1)],1)},Pt=[],Ct=(o("c740"),o("c1df")),kt=o.n(Ct),xt=o("46bd"),St={data:function(){return Object(G["a"])({search:"",headers:[{text:"Período",align:"start",sortable:!1,value:"Tiempo_Periodo"},{text:"Activar o Desactivar",value:"actions",sortable:!1,align:"end"}],desserts:[],allPeriods:[],fechas:[],fechaDesde:"",fechaHasta:"",entries:[],isLoading:!1,model:null},"search",null)},created:function(){this.initialize()},methods:{permisoModificarPeriodosAbiertos:function(e){if("A"===e.Tiempo_Abierto_Cerrado&&localStorage.Permisos.includes("P26"))return!0},permisoModificarPeriodosCerrados:function(e){if("C"===e.Tiempo_Abierto_Cerrado&&localStorage.Permisos.includes("P26"))return!0},initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=kt()(new Date).add(1,"months").format("YYYYMM"),i=kt()(new Date).add(-4,"months").format("YYYYMM"),e.getPeriodsNow(i,o),e.getAllPeriods();case 4:case"end":return t.stop()}}),t)})))()},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},getPeriodsNow:function(e,t){var o=this;X.a.get(xt+"/tiempos_periodos/"+e+"/"+t).then((function(e){o.desserts=e.data;var t=o.desserts.length-1;o.fechaDesde=o.desserts[t].Tiempo_Periodo,o.fechaHasta=o.desserts[0].Tiempo_Periodo}))},getAllPeriods:function(){var e=this;X.a.get(xt+"/tiempos_periodos/").then((function(t){e.allPeriods=t.data,e.fechas=t.data.map((function(e){return e.Tiempo_Periodo}))}))},searchPeriods:function(e,t){var o=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:parseInt(e)>parseInt(t)?alert("La Fecha Desde ingresada es mayor a la Fecha Hasta"):o.getPeriodsNow(e,t);case 1:case"end":return i.stop()}}),i)})))()},cerrarMes:function(e){var t=this.desserts.indexOf(e),o={Tiempo_Abierto_Cerrado:"C"};e.Tiempo_Abierto_Cerrado="C",this.desserts.splice(t,1,e),this.updatePeriodsList(e),X.a.patch(xt+"/tiempos_periodos/"+e.Tiempo_Periodo,o).then((function(e){console.log(e)})),this.evalPeriods()},abrirMes:function(e){var t=this.desserts.indexOf(e),o={Tiempo_Abierto_Cerrado:"A"};e.Tiempo_Abierto_Cerrado="A",this.desserts.splice(t,1,e),this.updatePeriodsList(e),X.a.patch(xt+"/tiempos_periodos/"+e.Tiempo_Periodo,o).then((function(e){console.log(e)})),this.evalPeriods()},evalPeriods:function(){var e=this.allPeriods.filter((function(e){return"A"==e.Tiempo_Abierto_Cerrado}));console.log(e);var t=e.map((function(e){return e.Tiempo_Periodo}));console.log(e),0==e.length?alert("Todos los períodos estan cerrados"):e.length>1&&alert("Los siguientes periodos estan abiertos:"+t)},updatePeriodsList:function(e){var t=this.allPeriods.findIndex((function(t){return t.Tiempo_Periodo===e.Tiempo_Periodo}));this.allPeriods.splice(t,1,e)},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Ft=St,wt=(o("4438"),Object(u["a"])(Ft,bt,Pt,!1,null,"41906480",null)),Tt=wt.exports;m()(wt,{VBtn:v["a"],VContainer:A["a"],VContent:b["a"],VDataTable:Z["a"],VDivider:W["a"],VIcon:P["a"],VSelect:Me["a"],VSpacer:ee["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var Dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem",width:"36rem"}},[e._v(e._s(this.$store.state.cliente[0].Cliente_Descripcion))]),o("v-btn",{staticStyle:{position:"relative",left:"68%"},attrs:{color:"#32b4dd",dark:""},on:{click:e.guardar}},[e._v("Guardar")]),o("v-btn",{staticStyle:{position:"relative",left:"69%"},attrs:{color:"#ffa025",dark:""},on:{click:e.rollback}},[e._v("Cancelar")]),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem"},attrs:{outlined:"",dense:"",label:"Código",rules:[e.rules.checkCode,e.rules.counterCodigoClienteFiscal],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Codigo,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Codigo",t)},expression:"clienteFiscal.Cliente_Fiscal_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"24rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Descripción",rules:[e.rules.counterDescripcionClienteFiscal,e.rules.checkCode],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Descripcion,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Descripcion",t)},expression:"clienteFiscal.Cliente_Fiscal_Descripcion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"26rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Dirección",rules:[e.rules.counterDireccion,e.rules.checkDirection],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Direccion,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Direccion",t)},expression:"clienteFiscal.Cliente_Fiscal_Direccion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"16rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Teléfono",rules:[e.rules.checkPhoneNumber,e.rules.counterTelefono],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Telefono,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Telefono",t)},expression:"clienteFiscal.Cliente_Fiscal_Telefono"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{"background-color":"white",outlined:"",placeholder:"Escribe..",label:"Observaciones",counter:1e3,rows:"2"}})],1)],1)],1),o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-text",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem","margin-top":"2rem"}},[e._v("Facturación")]),o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-select",{staticStyle:{"max-width":"6rem",display:"inline-block"},attrs:{dense:"",outlined:"",items:e.tiposIDFiscal,label:"Tipo",placeholder:"Selecciona..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Tipo_ID_Fiscal,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Tipo_ID_Fiscal",t)},expression:"clienteFiscal.Cliente_Fiscal_Tipo_ID_Fiscal"}}),o("v-text-field",{staticStyle:{"margin-left":"1rem","max-width":"15rem",display:"inline-block"},attrs:{outlined:"","background-color":"white",dense:"",label:"ID Fiscal",rules:[e.rules.counterIdFiscal,e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Identificador_Fiscal,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Identificador_Fiscal",t)},expression:"clienteFiscal.Cliente_Fiscal_Identificador_Fiscal"}}),o("v-text-field",{staticStyle:{"max-width":"15rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Ingresos Brutos",rules:[e.rules.counterIIBB,e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_IIBB,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_IIBB",t)},expression:"clienteFiscal.Cliente_Fiscal_IIBB"}}),o("v-text-field",{staticStyle:{"max-width":"8rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Giro Negocio",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Giro_Negocio,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Giro_Negocio",t)},expression:"clienteFiscal.Cliente_Fiscal_Giro_Negocio"}}),o("v-text-field",{staticStyle:{"min-width":"33.5rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Dirección Facturación",rules:[e.rules.counterDireccion,e.rules.checkDirection],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Direccion_Factura,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Direccion_Factura",t)},expression:"clienteFiscal.Cliente_Fiscal_Direccion_Factura"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block"},attrs:{outlined:"",dense:"",label:"Mail Para",rules:[e.rules.checkEmail,e.rules.counterEmail],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Para,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Para",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Para"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Mail Copia",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Copia,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Copia",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Copia"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Mail Pagos",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Pagos,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Pagos",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Pagos"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Teléfono Pagos",rules:[e.rules.checkPhoneNumber,e.rules.counterTelefono],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Telefono_Pagos,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Telefono_Pagos",t)},expression:"clienteFiscal.Cliente_Fiscal_Telefono_Pagos"}})],1)],1)],1)],1)],1)],1)},Et=[],Vt={data:function(){return{rules:{counterCodigoClienteFiscal:be,counterDescripcionClienteFiscal:Pe,counterDireccion:Ce,counterTelefono:ke,counterIdFiscal:xe,counterEmail:Se,counterIIBB:Fe,checkCode:we,checkPhoneNumber:De,checkDirection:Ee,checkNumbers:Te,checkEmail:Ve},clienteFiscal:{Cliente_Fiscal_Codigo:"",Cliente_Fiscal_Descripcion:"",Cliente_Fiscal_Cliente:0,Cliente_Fiscal_Tipo_ID_Fiscal:"",Cliente_Fiscal_Identificador_Fiscal:"",Cliente_Fiscal_IIBB:"",Cliente_Fiscal_Direccion:"",Cliente_Fiscal_Telefono:"",Cliente_Fiscal_Giro_Negocio:"",Cliente_Fiscal_Mail_Para:"",Cliente_Fiscal_Mail_Copia:"",Cliente_Fiscal_Direccion_Factura:"",Cliente_Fiscal_Mail_Pagos:"",Cliente_Fiscal_Telefono_Pagos:"",Cliente_Fiscal_Predeterminado:"",Usuario_Creacion:2,Usuario_Modificacion:2,Visible:"X"},tiposIDFiscal:["CUIT","REN","DNI"]}},created:function(){this.clienteFiscal.Cliente_Fiscal_Cliente=this.$store.state.cliente[0].Cliente_Key},methods:{guardar:function(){this.$refs.form.validate()&&(this.clienteFiscal.Cliente_Fiscal_Codigo=this.$store.state.cliente[0].Cliente_Codigo.substring(0,2)+"0"+this.$store.state.cliente[0].ClientesFiscales.length+1,this.$store.state.cliente[0].ClientesFiscales.push(this.clienteFiscal),this.rollback())},rollback:function(){0==this.$store.state.clienteTipo?this.$router.push({path:"/createCliente"}):this.$router.push({path:"/editCliente"})},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Nt=Vt,Rt=(o("b4d2"),Object(u["a"])(Nt,Dt,Et,!1,null,"7beeba9f",null)),$t=Rt.exports;m()(Rt,{VBtn:v["a"],VCard:y["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var jt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v(e._s(this.$store.state.cliente[0].Cliente_Descripcion))]),o("v-btn",{staticStyle:{position:"relative",left:"68%"},attrs:{color:"#32b4dd",dark:""},on:{click:e.guardar}},[e._v("Guardar")]),o("v-btn",{staticStyle:{position:"relative",left:"69%"},attrs:{color:"#ffa025",dark:""},on:{click:e.rollback}},[e._v("Cancelar")]),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem"},attrs:{outlined:"",dense:"",label:"Código",rules:[e.rules.counterCodigoClienteFiscal,e.rules.checkCode],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Codigo,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Codigo",t)},expression:"clienteFiscal.Cliente_Fiscal_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"24rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Descripción",rules:[e.rules.counterDescripcionClienteFiscal,e.rules.checkCode],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Descripcion,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Descripcion",t)},expression:"clienteFiscal.Cliente_Fiscal_Descripcion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"26rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Dirección",rules:[e.rules.counterDireccion,e.rules.checkDirection],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Direccion,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Direccion",t)},expression:"clienteFiscal.Cliente_Fiscal_Direccion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"16rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Teléfono",rules:[e.rules.checkPhoneNumber,e.rules.counterTelefono],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Telefono,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Telefono",t)},expression:"clienteFiscal.Cliente_Fiscal_Telefono"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{"background-color":"white",outlined:"",placeholder:"Escribe..",label:"Observaciones",counter:1e3,rows:"2"}})],1)],1)],1),o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-text",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem","margin-top":"2rem"}},[e._v("Facturación")]),o("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[o("v-select",{staticStyle:{"max-width":"6rem",display:"inline-block"},attrs:{dense:"",outlined:"",items:e.tiposIDFiscal,label:"Tipo",placeholder:"Selecciona..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Tipo_ID_Fiscal,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Tipo_ID_Fiscal",t)},expression:"clienteFiscal.Cliente_Fiscal_Tipo_ID_Fiscal"}}),o("v-text-field",{staticStyle:{"margin-left":"1rem","max-width":"15rem",display:"inline-block"},attrs:{outlined:"","background-color":"white",dense:"",label:"ID Fiscal",rules:[e.rules.counterIdFiscal,e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Identificador_Fiscal,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Identificador_Fiscal",t)},expression:"clienteFiscal.Cliente_Fiscal_Identificador_Fiscal"}}),o("v-text-field",{staticStyle:{"max-width":"15rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"Ingresos Brutos",rules:[e.rules.counterIIBB,e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_IIBB,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_IIBB",t)},expression:"clienteFiscal.Cliente_Fiscal_IIBB"}}),o("v-text-field",{staticStyle:{"max-width":"8rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Giro Negocio",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Giro_Negocio,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Giro_Negocio",t)},expression:"clienteFiscal.Cliente_Fiscal_Giro_Negocio"}}),o("v-text-field",{staticStyle:{"min-width":"33.5rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Dirección Facturación",rules:[e.rules.counterDireccion,e.rules.checkDirection],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Direccion_Factura,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Direccion_Factura",t)},expression:"clienteFiscal.Cliente_Fiscal_Direccion_Factura"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block"},attrs:{outlined:"",dense:"",label:"Mail Para",rules:[e.rules.checkEmail,e.rules.counterEmail],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Para,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Para",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Para"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Mail Copia",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Copia,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Copia",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Copia"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Mail Pagos",placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Mail_Pagos,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Mail_Pagos",t)},expression:"clienteFiscal.Cliente_Fiscal_Mail_Pagos"}}),o("v-text-field",{staticStyle:{"min-width":"39rem",display:"inline-block","margin-left":"1rem","margin-bottom":"-1.5rem"},attrs:{outlined:"",dense:"",label:"Teléfono Pagos",rules:[e.rules.checkPhoneNumber,e.rules.counterTelefono],placeholder:"Escribe..."},model:{value:e.clienteFiscal.Cliente_Fiscal_Telefono_Pagos,callback:function(t){e.$set(e.clienteFiscal,"Cliente_Fiscal_Telefono_Pagos",t)},expression:"clienteFiscal.Cliente_Fiscal_Telefono_Pagos"}})],1)],1)],1)],1)],1)],1)},It=[],At={data:function(){return Object(G["a"])({codigoViejo:"",rules:{counterCodigoClienteFiscal:be,counterDescripcionClienteFiscal:Pe,counterDireccion:Ce,counterTelefono:ke,counterIdFiscal:xe,counterEmail:Se,counterIIBB:Fe,checkCode:we,checkPhoneNumber:De,checkDirection:Ee,checkNumbers:Te,checkEmail:Ve},clienteFiscal:{Cliente_Fiscal_Codigo:"",Cliente_Fiscal_Descripcion:"",Cliente_Fiscal_Cliente:0,Cliente_Fiscal_Tipo_ID_Fiscal:"",Cliente_Fiscal_Identificador_Fiscal:"",Cliente_Fiscal_IIBB:"",Cliente_Fiscal_Direccion:"",Cliente_Fiscal_Telefono:"",Cliente_Fiscal_Giro_Negocio:"",Cliente_Fiscal_Mail_Para:"",Cliente_Fiscal_Mail_Copia:"",Cliente_Fiscal_Direccion_Factura:"",Cliente_Fiscal_Mail_Pagos:"",Cliente_Fiscal_Telefono_Pagos:"",Cliente_Fiscal_Predeterminado:"",Usuario_Creacion:2,Usuario_Modificacion:2,Visible:"X"},tiposIDFiscal:["CUIT","REN","DNI"]},"codigoViejo","")},created:function(){this.clienteFiscal=this.$store.state.clienteFiscal[0],this.codigoViejo=this.clienteFiscal.Cliente_Fiscal_Codigo},methods:{rollback:function(){0==this.$store.state.clienteTipo?this.$router.push({path:"/createCliente"}):this.$router.push({path:"/editCliente"})},guardar:function(){var e=this;this.$refs.form.validate()&&(this.$store.state.cliente[0].ClientesFiscales.filter((function(t){return t.Cliente_Fiscal_Codigo!=e.codigoViejo})).push(this.clienteFiscal),this.rollback())},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Mt=At,Ot=(o("d102"),Object(u["a"])(Mt,jt,It,!1,null,"366149a0",null)),Ut=Ot.exports;m()(Ot,{VBtn:v["a"],VCard:y["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var zt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search,"sort-by":"Empresa_Codigo","items-per-page-text":"Empresas por página:",pageText:"{0}-{1} de {2}"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{dense:"",flat:"",color:"white"}},[o("v-toolbar-title",[e._v("Empresas")]),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-text-field",{staticClass:"shrink",staticStyle:{"margin-right":"20rem"},attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"",dense:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("router-link",{attrs:{to:"/createEmpresa"}},[e.permisoCrearEmpresa()?o("v-btn",{attrs:{dark:"",fab:"","x-small":"",color:"#2991c6"},on:{click:e.sendEmpresaVacio}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):e._e()],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[o("router-link",{attrs:{to:"/editEmpresa"}},["X"==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{title:"Ver más",small:"",color:"#2991c6"},on:{click:function(t){return e.sendEmpresa(i)}}},[e._v(" mdi-sunglasses ")]):e._e()],1),e.permisoDesactivar()?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Desactivar",small:"",color:"#2991c6"},on:{click:function(t){return e.desactivarEmpresa(i)}}},[e._v(" mdi-eye-off ")]):e._e(),""==i.Visible?o("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Activar",small:"",color:"#2991c6"},on:{click:function(t){return e.activarEmpresa(i)}}},[e._v(" mdi-eye ")]):e._e()]}}],null,!0)})],1)],1)},Lt=[],Kt=o("46bd"),Gt={data:function(){var e;return e={search:"",headers:[{text:"Código",align:"start",sortable:!0,value:"Empresa_Codigo"},{text:"Descripción",value:"Empresa_Descripcion"},{text:"Tipo",value:"TipoEmpresa.Tipo_Empresa_Descripcion"},{text:"Activado",value:"Visible",align:"center"},{text:"Acciones",value:"actions",sortable:!1,align:"end"}],desserts:[],entries:[],isLoading:!1,model:null},Object(G["a"])(e,"search",null),Object(G["a"])(e,"visible",{Visible:""}),Object(G["a"])(e,"footerProps",{"items-per-page-options":[7,20,40,60,100,200],itemsPerPageText:"Empresas por página:"}),e},mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;X.a.get(Kt+"/empresas").then((function(t){e.desserts=t.data}))},sendEmpresa:function(e){this.$store.state.empresa[0]=e},sendEmpresaVacia:function(){this.$store.state.empresa[0]={Empresa_Codigo:"",Empresa_Descripcion:"",Empresa_Tipo:null,Empresa_Region:null,Empresa_Unidad_Negocio:null,Empresa_Identificador_Laboral:"",Empresa_Referente:"",Empresa_Mail:"",Empresa_Telefono:"",Empresa_Logo:"",Empresa_Observacion:"",Usuario_Creacion:1,Usuario_Modificacion:1}},permisoDesactivar:function(){if(localStorage.Permisos.includes("P14"))return!0},permisoCrearEmpresa:function(){return localStorage.Permisos.includes("P13")},desactivarEmpresa:function(e){var t=this.desserts.indexOf(e),o={Visible:""};e.Visible="",confirm("Está seguro que desea desactivar esta empresa?")&&this.desserts.splice(t,1,e)&&X.a.patch(Kt+"/Empresas/"+e.Empresa_Codigo,o).then((function(e){console.log(e)}))},activarEmpresa:function(e){var t=this.desserts.indexOf(e),o={Visible:"X"};e.Visible="X",this.desserts.splice(t,1,e),X.a.patch(Kt+"/Empresas/"+e.Empresa_Codigo,o).then((function(e){console.log(e)}))},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Bt=Gt,Xt=(o("049c"),Object(u["a"])(Bt,zt,Lt,!1,null,"7b75af7f",null)),Ht=Xt.exports;m()(Xt,{VBtn:v["a"],VContainer:A["a"],VContent:b["a"],VDataTable:Z["a"],VDivider:W["a"],VIcon:P["a"],VSpacer:ee["a"],VTextField:te["a"],VToolbar:oe["a"],VToolbarTitle:E["a"]});var qt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Datos Generales")]),o("img",{staticStyle:{"margin-top":"-1rem","margin-left":"1rem"},attrs:{width:"180rem",height:"40rem",src:e.empresa.Empresa_Logo}}),o("v-btn",{staticStyle:{"margin-left":"40rem"},attrs:{color:"#32b4dd",dark:""},on:{click:e.guardar}},[e._v("Guardar")]),o("router-link",{attrs:{to:"/empresasTable"}},[o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.cleanStore}},[e._v("Cancelar")])],1),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem"},attrs:{outlined:"",dense:"",label:"Código",rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Codigo,callback:function(t){e.$set(e.empresa,"Empresa_Codigo",t)},expression:"empresa.Empresa_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"35rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",label:"Descripción",rules:[e.rules.checkCode,e.rules.counterDescripcion],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Descripcion,callback:function(t){e.$set(e.empresa,"Empresa_Descripcion",t)},expression:"empresa.Empresa_Descripcion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"19rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",label:"ID Laboral",rules:[e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Identificador_Laboral,callback:function(t){e.$set(e.empresa,"Empresa_Identificador_Laboral",t)},expression:"empresa.Empresa_Identificador_Laboral"}}),o("v-select",{staticStyle:{"max-width":"12rem",display:"inline-block","margin-left":"1rem"},attrs:{dense:"",outlined:"",items:e.tiposEmpresasDescripciones,label:"Tipo",placeholder:"Selecciona..."},model:{value:e.empresa.Empresa_Tipo,callback:function(t){e.$set(e.empresa,"Empresa_Tipo",t)},expression:"empresa.Empresa_Tipo"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{"background-color":"white",outlined:"",placeholder:"Escribe..",counter:1e3,label:"Observaciones",rows:"2"},model:{value:e.empresa.Empresa_Observacion,callback:function(t){e.$set(e.empresa,"Empresa_Observacion",t)},expression:"empresa.Empresa_Observacion"}})],1)],1)],1)],1)],1)],1)},Yt=[],Jt=o("46bd"),Zt={data:function(){return{codigoViejo:"",rules:{checkCode:we,checkEmail:Ve,checkPhoneNumber:De,checkNumbers:Te,counterCodigo:he,counterDescripcion:ve,counterTelefono:ke,counterEmail:Se,counterReferentes:ye},empresa:{Empresa_Codigo:"",Empresa_Descripcion:"",Empresa_Tipo:null,Empresa_Region:null,Empresa_Unidad_Negocio:null,Empresa_Identificador_Laboral:"",Empresa_Referente:"",Empresa_Mail:"",Empresa_Telefono:"",Empresa_Logo:"",Empresa_Observacion:"",Usuario_Creacion:1,Usuario_Modificacion:1},unidades_Negocio:[],unidades_NegocioDescripciones:[],regiones:[],regiones_Descripciones:[],tiposEmpresas:[],tiposEmpresasDescripciones:[]}},created:function(){this.loadTiposEmpresas(),this.loadRegiones(),this.loadUnidadesNegocio()},methods:{loadTiposEmpresas:function(){var e=this;X.a.get(Jt+"/tipos_empresas/descripciones").then((function(t){e.tiposEmpresas=t.data,e.tiposEmpresasDescripciones=t.data.map((function(e){return e.Tipo_Empresa_Descripcion}))}))},loadUnidadesNegocio:function(){var e=this;X.a.get(Jt+"/unidades_negocios/descripciones").then((function(t){e.unidades_Negocio=t.data,e.unidades_NegocioDescripciones=t.data.map((function(e){return e.Unidad_Negocio_Descripcion}))}))},loadRegiones:function(){var e=this;X.a.get(Jt+"/regiones/descripciones").then((function(t){e.regiones=t.data,e.regiones_Descripciones=t.data.map((function(e){return e.Region_Descripcion}))}))},guardar:function(){var e=this;this.$refs.form.validate()&&(this.asignarKeys(),X.a.post(Jt+"/empresas",this.empresa).then((function(e){alert(res.data)})).catch((function(t){throw alert("No se ha podido crear. Empresa ya existe"),e.empresa=e.$store.state.empresa[0],new Error("La Empresa ya existe")})))},cleanStore:function(){this.$store.replaceState({cliente:[],clienteTipo:0,proyecto:[],clienteFiscal:[],empresa:[]})},asignarKeys:function(){var e=this,t=this.tiposEmpresas.filter((function(t){return t.Tipo_Empresa_Descripcion==e.empresa.Empresa_Tipo}))[0].Tipo_Empresa_Key,o=this.regiones.filter((function(t){return t.Region_Descripcion==e.empresa.Empresa_Region}))[0].Region_Key,i=this.unidades_Negocio.filter((function(t){return t.Unidad_Negocio_Descripcion==e.empresa.Empresa_Unidad_Negocio}))[0].Unidad_Negocio_Key;this.empresa.Empresa_Tipo=t,this.empresa.Empresa_Region=o,this.empresa.Empresa_Unidad_Negocio=i},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},Qt=Zt,Wt=(o("9f09"),Object(u["a"])(Qt,qt,Yt,!1,null,"7f3e09d2",null)),eo=Wt.exports;m()(Wt,{VBtn:v["a"],VCard:y["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var to=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{fluid:""}},[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{staticStyle:{"max-width":"82rem","margin-top":"-0.5rem"},attrs:{cols:"12"}},[o("v-title",{staticStyle:{"font-size":"1.5rem","padding-left":"1rem"}},[e._v("Datos Generales")]),o("img",{staticStyle:{"margin-top":"-1rem","margin-left":"1rem"},attrs:{width:"180rem",height:"40rem",src:e.empresa.Empresa_Logo}}),o("v-btn",{staticStyle:{"margin-left":"40rem"},attrs:{disabled:e.permisoGuardar(),color:"#32b4dd",dark:""},on:{click:e.guardar}},[e._v("Guardar")]),o("router-link",{attrs:{to:"/empresasTable"}},[o("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{color:"#ffa025",dark:""},on:{click:e.cleanStore}},[e._v("Cancelar")])],1),o("v-card",{staticClass:"pa-2",staticStyle:{"margin-top":"1rem"},attrs:{outlined:"",tile:""}},[o("v-text-field",{staticStyle:{display:"inline-block","max-width":"10rem"},attrs:{outlined:"",dense:"",disabled:e.permisoGuardar(),label:"Código",rules:[e.rules.checkCode,e.rules.counterCodigo],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Codigo,callback:function(t){e.$set(e.empresa,"Empresa_Codigo",t)},expression:"empresa.Empresa_Codigo"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"35rem","margin-left":"1rem"},attrs:{outlined:"",dense:"",disabled:e.permisoGuardar(),label:"Descripción",rules:[e.rules.checkCode,e.rules.counterDescripcion],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Descripcion,callback:function(t){e.$set(e.empresa,"Empresa_Descripcion",t)},expression:"empresa.Empresa_Descripcion"}}),o("v-text-field",{staticStyle:{display:"inline-block","min-width":"19rem","margin-left":"1rem"},attrs:{outlined:"","background-color":"white",dense:"",disabled:e.permisoGuardar(),label:"ID Laboral",rules:[e.rules.checkNumbers],placeholder:"Escribe..."},model:{value:e.empresa.Empresa_Identificador_Laboral,callback:function(t){e.$set(e.empresa,"Empresa_Identificador_Laboral",t)},expression:"empresa.Empresa_Identificador_Laboral"}}),o("v-select",{staticStyle:{"max-width":"12rem",display:"inline-block","margin-left":"1rem"},attrs:{dense:"",disabled:e.permisoGuardar(),outlined:"",items:e.tiposEmpresasDescripciones,label:"Tipo",placeholder:"Selecciona..."},model:{value:e.empresa.Empresa_Tipo,callback:function(t){e.$set(e.empresa,"Empresa_Tipo",t)},expression:"empresa.Empresa_Tipo"}}),o("v-textarea",{staticStyle:{"margin-bottom":"-2rem"},attrs:{"background-color":"white",disabled:e.permisoGuardar(),outlined:"",placeholder:"Escribe..",counter:1e3,label:"Observaciones",rows:"2"},model:{value:e.empresa.Empresa_Observacion,callback:function(t){e.$set(e.empresa,"Empresa_Observacion",t)},expression:"empresa.Empresa_Observacion"}})],1)],1)],1)],1)],1)],1)},oo=[],io=o("46bd"),ao={data:function(){return{codigoViejo:"",rules:{checkCode:we,checkEmail:Ve,checkPhoneNumber:De,checkNumbers:Te,counterCodigo:he,counterDescripcion:ve,counterTelefono:ke,counterEmail:Se,counterReferentes:ye},empresa:{Empresa_Codigo:"",Empresa_Descripcion:"",Empresa_Tipo:null,Empresa_Identificador_Laboral:"",Empresa_Logo:"https://iwantic.com/wp-content/uploads/2016/12/consultor-sap.png",Empresa_Observacion:"",Usuario_Creacion:1,Usuario_Modificacion:1},tiposEmpresas:[],tiposEmpresasDescripciones:[]}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadEmpresa(),e.loadTiposEmpresas(),t.next=4,e.wait(1e3);case 4:e.asignarDescripciones();case 5:case"end":return t.stop()}}),t)})))()},wait:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},loadEmpresa:function(){this.empresa=this.$store.state.empresa[0],this.codigoViejo=this.$store.state.empresa[0].Empresa_Codigo},loadTiposEmpresas:function(){var e=this;X.a.get(io+"/tipos_empresas/descripciones").then((function(t){e.tiposEmpresas=t.data,e.tiposEmpresasDescripciones=t.data.map((function(e){return e.Tipo_Empresa_Descripcion}))}))},guardar:function(){this.$refs.form.validate()&&(this.asignarKeys(),X.a.patch(io+"/empresas/"+this.codigoViejo,this.empresa).then((function(e){alert(e.data)})).catch((function(e){throw alert("No se ha podido actualizar. La empresa ya existe"),new Error("La empresa ya existe")})))},cleanStore:function(){this.$store.replaceState({cliente:[],clienteTipo:0,proyecto:[],clienteFiscal:[],empresa:[]})},permisoGuardar:function(){return!localStorage.Permisos.includes("P14")},asignarKeys:function(){var e=this,t=this.tiposEmpresas.filter((function(t){return t.Tipo_Empresa_Descripcion==e.empresa.Empresa_Tipo}))[0].Tipo_Empresa_Key;this.empresa.Empresa_Tipo=t},asignarDescripciones:function(){var e=this,t=this.tiposEmpresas.filter((function(t){return t.Tipo_Empresa_Key==e.empresa.Empresa_Tipo}))[0].Tipo_Empresa_Descripcion;this.empresa.Empresa_Tipo=t},mounted:function(){localStorage.getItem("token")||this.$router.push("/login")}}},ro=ao,no=(o("6d51"),Object(u["a"])(ro,to,oo,!1,null,"c4f0e84e",null)),co=no.exports;m()(no,{VBtn:v["a"],VCard:y["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VForm:Ae["a"],VRow:fe["a"],VSelect:Me["a"],VTextField:te["a"],VTextarea:Oe["a"]});var so=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticClass:"contenedor"},[o("v-row",[o("v-col",{attrs:{cols:"2"}},[o("v-sheet",{attrs:{rounded:"lg",color:"#1A5E86",width:"100%"}},[o("v-list",{staticStyle:{height:"32rem"},attrs:{color:"transparent"}},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",[o("v-avatar",{staticStyle:{"margin-left":"3rem"},attrs:{size:"80"}},[o("img",{attrs:{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",alt:"Imagen Usuario"}})]),o("h5",{staticStyle:{"margin-top":"20px","text-align":"center",color:"#fff","white-space":"initial"},attrs:{dense:"",flat:""}},[e._v(" "+e._s(e.colaboradorLogueado.Colaborador_Descripcion)+" ")]),o("h6",{staticStyle:{"margin-top":"20px","text-align":"center",color:"#fff","white-space":"initial"},attrs:{dense:"",flat:""}},[e._v(" "+e._s(e.colaboradorLogueado.Puesto.Colaborador_Puesto_Descripcion)+" ")]),o("h6",{staticStyle:{"margin-top":"20px","text-align":"center",color:"#fff","white-space":"initial"},attrs:{dense:"",flat:""}},[e._v(" "+e._s(e.colaboradorLogueado.Region.Region_Descripcion)+" ")]),o("v-spacer")],1)],1)],1)],1)],1)],1),o("v-col",{attrs:{cols:"8"}},[o("v-expansion-panels",{staticStyle:{top:"0rem","min-width":"120%"},attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[o("v-expansion-panel",[o("v-expansion-panel-header",{staticStyle:{"font-size":"20px"}},[e._v("Preferencias")]),o("v-expansion-panel-content",[o("v-col",{attrs:{cols:"6"}},[o("v-icon",[e._v("mdi-calendar-clock")]),o("v-title",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("Horas Diarias ")]),o("v-text-field",{staticStyle:{position:"relative",left:"2.7rem",width:"3rem",display:"inline-block"},attrs:{"hide-details":"",placeholder:"",dense:"",type:"number"},model:{value:e.horasDiarias,callback:function(t){e.horasDiarias=t},expression:"horasDiarias"}})],1),o("v-col",{attrs:{cols:"6"}},[o("v-icon",[e._v("mdi-calendar-range")]),o("v-title",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("HO Semanales ")]),o("v-text-field",{staticStyle:{position:"relative",left:"2rem",width:"3rem",display:"inline-block"},attrs:{"hide-details":"",dense:"",type:"number"},model:{value:e.hoSemanales,callback:function(t){e.hoSemanales=t},expression:"hoSemanales"}})],1),o("v-col",{attrs:{cols:"6"}},[o("v-icon",[e._v("mdi-calendar-text")]),o("v-title",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("Calendario ")]),o("v-select",{staticStyle:{left:"4rem",width:"18rem",display:"inline-block"},attrs:{items:e.calendario,"hide-details":"",outlined:"",dense:""},model:{value:e.setCalendario,callback:function(t){e.setCalendario=t},expression:"setCalendario"}})],1),o("v-col",{attrs:{cols:"6"}},[o("v-icon",[e._v("mdi-calendar-week-begin")]),o("v-title",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("Inicio Default ")]),o("v-select",{staticStyle:{left:"3rem",width:"18rem",display:"inline-block"},attrs:{items:e.inicioDefault,"hide-details":"",outlined:"",dense:""},model:{value:e.setDefault,callback:function(t){e.setDefault=t},expression:"setDefault"}})],1)],1)],1),o("v-expansion-panel",{staticStyle:{position:"relative",top:"0.5rem"}},[o("v-expansion-panel-header",{staticStyle:{"font-size":"20px"}},[e._v("Privacidad")]),o("v-expansion-panel-content",[o("v-col",[o("v-icon",[e._v("mdi-bell-ring")]),o("v-title",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("Notificaciones ")])],1)],1)],1),o("v-btn",{staticStyle:{top:"2rem",right:"41%"},attrs:{color:"#32b4dd",dark:""},on:{click:function(e){}}},[e._v("Guardar")]),o("v-btn",{staticStyle:{top:"2rem",right:"40%"},attrs:{color:"#ffa025",dark:""},on:{click:function(e){}}},[e._v("Cancelar")])],1)],1),o("v-col",{attrs:{cols:"3"}})],1)],1)],1)},lo=[],uo=o("46bd"),po={data:function(){return{panel:[0,1],horasDiarias:8,hoSemanales:0,calendario:[],setCalendario:"",inicioDefault:["Carga de Horas"],setDefault:"Carga de Horas",usuarioLogueado:{},colaboradorLogueado:{}}},created:function(){this.usuarioLogueado=localStorage.usuario,this.getColaborador(),this.getRegiones()},methods:{getColaborador:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X.a.get(uo+"/colaboradores/"+localStorage.usuario_id).then((function(t){e.colaboradorLogueado=t.data}));case 2:e.setCalendario=e.colaboradorLogueado.Region.Region_Descripcion,e.hoSemanales=e.colaboradorLogueado.HomeOffice.Colaborador_Home_Cantidad;case 4:case"end":return t.stop()}}),t)})))()},getRegiones:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:X.a.get(uo+"/regiones/descripciones").then((function(t){e.calendario=t.data.map((function(e){return e.Region_Descripcion}))}));case 1:case"end":return t.stop()}}),t)})))()}}},mo=po,fo=(o("6850"),o("cd55")),_o=o("49e2"),go=o("c865"),ho=o("0393"),vo=Object(u["a"])(mo,so,lo,!1,null,"334672de",null),yo=vo.exports;m()(vo,{VAvatar:h["a"],VBtn:v["a"],VCol:Ie["a"],VContainer:A["a"],VContent:b["a"],VExpansionPanel:fo["a"],VExpansionPanelContent:_o["a"],VExpansionPanelHeader:go["a"],VExpansionPanels:ho["a"],VIcon:P["a"],VList:k["a"],VListItem:S["a"],VListItemContent:w["a"],VListItemTitle:w["b"],VRow:fe["a"],VSelect:Me["a"],VSheet:ht["a"],VSpacer:ee["a"],VTextField:te["a"]}),i["default"].use(z["a"]);var bo=[{path:"/",redirect:{name:"Login"}},{path:"/login",name:"Login",component:function(){return Promise.resolve().then(o.bind(null,"6ca4"))}},{path:"/Grid",name:"Grid",component:function(){return Promise.all([o.e("chunk-2ccfad1e"),o.e("chunk-e586cdfa")]).then(o.bind(null,"40f9"))},props:!0},{path:"/clientesTable",name:"Clientes",component:ae},{path:"/createProyecto",name:"Crear Proyecto",component:ze,props:!0},{path:"/createCliente",name:"Crear Cliente",component:ot,props:!0},{path:"/editCliente",name:"Editar Cliente",component:lt,props:!0},{path:"/editProyecto",name:"Editar Proyecto",component:qe,props:!0},{path:"/createClienteFiscal",name:"Crear Cliente Fiscal",component:$t,props:!0},{path:"/editClienteFiscal",name:"Editar Cliente Fiscal",component:Ut,props:!0},{path:"/tiemposCalendar",name:"Tiempos Calendar",component:yt},{path:"/Tareas",name:"Tareas",component:function(){return Promise.all([o.e("chunk-2ccfad1e"),o.e("chunk-365d1223")]).then(o.bind(null,"a42b"))}},{path:"/createEmpresa",name:"Crear Empresa",component:eo},{path:"/editEmpresa",name:"Editar Empresa",component:co},{path:"/empresasTable",name:"Empresas",component:Ht},{path:"/Usuario",name:"Usuario",component:yo},{path:"/periodos",name:"Periodos",component:Tt}],Po=new z["a"]({mode:"history",base:"/",routes:bo}),Co=Po,ko=o("4360"),xo=o("5f5b"),So=o("9955"),Fo=o.n(So),wo=o("2ef0"),To=o.n(wo),Do=o("ee98"),Eo=o.n(Do),Vo=(o("f9e3"),o("2dd8"),o("a7fe")),No=o.n(Vo),Ro=o("f309");i["default"].use(Ro["a"]),i["default"].use(o("2ead"));var $o=new Ro["a"]({theme:{themes:{light:{background:"#E9E9E9",primary:"#1976D2",warning:"#E3F2FD"}},options:{customProperties:!0},icons:{iconfont:"mdiSvg"}}}),jo=o("c0e2"),Io=o.n(jo);i["default"].config.devtools=!0,i["default"].use(Fo.a,{lodash:To.a}),i["default"].prototype.moment=kt.a,i["default"].use(xo["a"]),i["default"].use(Eo.a),o("898b"),i["default"].use(No.a,X.a),X.a.defaults.baseURL="http://localhost:1337/api",i["default"].config.productionTip=!1;var Ao={},Mo=new Io.a;new i["default"]({router:Co,store:ko["a"],vuetify:$o,data:{user:{},colaborador:{},userIsLogged:!1},msalInstance:Ao,emitter:Mo,render:function(e){return e(U)}}).$mount("#app")},"5f4b":function(e,t,o){"use strict";var i=o("24f8"),a=o.n(i);a.a},6850:function(e,t,o){"use strict";var i=o("7266"),a=o.n(i);a.a},6870:function(e,t,o){},"6ca4":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticStyle:{"overflow-y":"hidden",height:"38rem"},attrs:{fluid:""}},[o("v-card",{staticClass:"card"},[o("v-title",{staticClass:"titulo",staticStyle:{position:"relative",top:"1.5rem"}},[e._v(" BIENVENIDO ")]),o("v-btn",{staticClass:"buttonOffice",on:{click:e.SignIn}},[e._v(" Iniciar sesión "),o("br"),e._v(" con Office "),o("v-icon",{staticStyle:{position:"relative",left:"0.5rem"}},[e._v("mdi-microsoft-windows")])],1),o("v-expansion-panels",{staticStyle:{top:"4rem","min-width":"100%"},attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[o("v-expansion-panel",[o("v-expansion-panel-header",{staticStyle:{"font-size":"20px","text-align":"center"}},[e._v("INICIAR SESION")]),o("v-expansion-panel-content",[o("v-text",{staticClass:"labels"},[e._v(" Usuario: ")]),o("v-text-field",{staticClass:"input",attrs:{outlined:"",dense:"",required:""},model:{value:e.user.Usuario_Codigo,callback:function(t){e.$set(e.user,"Usuario_Codigo",t)},expression:"user.Usuario_Codigo"}}),o("v-text",{staticClass:"labels"},[e._v(" Password: ")]),o("v-text-field",{staticClass:"input",attrs:{outlined:"",dense:"",type:"password",required:""},model:{value:e.user.Password,callback:function(t){e.$set(e.user,"Password",t)},expression:"user.Password"}}),o("v-btn",{staticStyle:{position:"relative",left:"25%"},on:{click:function(t){return e.getUser(e.user)}}},[e._v(" INICIAR SESION ")])],1)],1)],1)],1)],1)],1)},a=[],r=(o("d81d"),o("96cf"),o("1da1")),n=o("bc3a"),c=o.n(n),s=(o("4360"),o("bbcb")),l=o("46bd"),d={data:function(){return{loginNormal:!1,user:{Usuario_Codigo:"",Password:""},userRecover:{},colaboradorRecover:{},account:void 0,signin:"https://microsoft.com",containers:[]}},methods:{getUser:function(e){var t=this;c.a.post(l+"/autenticacion/autenticar/",e).then((function(e){t.userRecover=e.data.user,t.getPermisos(),"X"==t.userRecover.Usuario_Habilitado?(localStorage.setItem("usuario_id",e.data.user.Usuario_Key),localStorage.setItem("token",e.data.token),localStorage.setItem("login",!0),localStorage.setItem("usuario",JSON.stringify(t.userRecover)),t.getColaborador(),t.$notify({title:"Bienvenido "+t.userRecover.Usuario_Nombre_Completo,position:"center",width:"100%"}),t.$router.push({path:"/Grid"},{params:t.userRecover})):alert("No está habilitado para acceder")})).catch((function(e){alert("Usuario no encontrado")}))},getColaborador:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(l+"/colaboradores/"+e.userRecover.Usuario_Key).then((function(t){e.colaboradorRecover=t.data,localStorage.setItem("nombre_colaborador",e.colaboradorRecover.Colaborador_Descripcion),localStorage.setItem("colaborador",e.colaboradorRecover)}));case 2:case"end":return t.stop()}}),t)})))()},obtenerPerfiles:function(e){for(var t=[],o=0;o<e.Rol.PerfilRol.length;o++)t.push(e.Rol.PerfilRol[o]);return this.obtenerPermisos(t)},obtenerPermisos:function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].Perfil.PerfilPermiso);return this.obtenerCodigoPermiso(t)},obtenerCodigoPermiso:function(e){var t=[];return e.map((function(e){for(var o=0;o<e.length;o++)t.push(e[o].Permisos.Permiso_Codigo)})),localStorage.setItem("Permisos",JSON.stringify(t)),t},getPermisos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(l+"/seguridad/"+e.user.Usuario_Codigo).then((function(t){e.obtenerPerfiles(t.data)}));case 2:case"end":return t.stop()}}),t)})))()},SignIn:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$msalInstance.loginPopup({}).then((function(){var t=e.$msalInstance.getAllAccounts();console.log(t),e.account=t[0];var o={Usuario_Codigo:e.account.username,Password:""};e.getUser(o)})).catch((function(e){console.error("error during authentication: ".concat(e))}));case 2:case"end":return t.stop()}}),t)})))()},officeTest:function(){}},created:function(){this.$msalInstance=new s["a"](this.$store.state.msalConfig)},beforeCreate:function(){localStorage.Permisos=["P1"]},mounted:function(){var e=this.$msalInstance.getAllAccounts();0!=e.length&&(this.account=e[0],this.$emitter.emit("login",this.account))}},u=d,p=(o("887c"),o("2877")),m=o("6544"),f=o.n(m),_=o("8336"),g=o("b0af"),h=o("a523"),v=o("a75b"),y=o("cd55"),b=o("49e2"),P=o("c865"),C=o("0393"),k=o("132d"),x=o("8654"),S=Object(p["a"])(u,i,a,!1,null,"31ae1422",null);t["default"]=S.exports;f()(S,{VBtn:_["a"],VCard:g["a"],VContainer:h["a"],VContent:v["a"],VExpansionPanel:y["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:P["a"],VExpansionPanels:C["a"],VIcon:k["a"],VTextField:x["a"]})},"6d51":function(e,t,o){"use strict";var i=o("2096"),a=o.n(i);a.a},"70e6":function(e,t,o){"use strict";var i=o("fa88"),a=o.n(i);a.a},7266:function(e,t,o){},"7e11":function(e,t,o){"use strict";var i=o("9316"),a=o.n(i);a.a},8694:function(e,t,o){},"887c":function(e,t,o){"use strict";var i=o("29c1"),a=o.n(i);a.a},9316:function(e,t,o){},"9f09":function(e,t,o){"use strict";var i=o("a5ee"),a=o.n(i);a.a},"9f37":function(e,t,o){},a5ee:function(e,t,o){},b4d2:function(e,t,o){"use strict";var i=o("dc69"),a=o.n(i);a.a},b60d:function(e,t,o){"use strict";var i=o("9f37"),a=o.n(i);a.a},b885:function(e,t,o){"use strict";var i=o("c335"),a=o.n(i);a.a},b8ac:function(e,t,o){},c335:function(e,t,o){},d102:function(e,t,o){"use strict";var i=o("6870"),a=o.n(i);a.a},dc69:function(e,t,o){},e3ce:function(e,t,o){},e518:function(e,t,o){},ef0c:function(e,t,o){"use strict";var i=o("eff5"),a=o.n(i);a.a},ef11:function(e,t,o){},eff5:function(e,t,o){},fa88:function(e,t,o){}});
//# sourceMappingURL=app.cd148af1.js.map